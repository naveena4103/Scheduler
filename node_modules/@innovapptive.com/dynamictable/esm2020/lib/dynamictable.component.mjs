import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { MatPaginator } from '@angular/material/paginator';
import { MatSort } from '@angular/material/sort';
import { animate, state, style, transition, trigger } from '@angular/animations';
import { SelectionModel } from '@angular/cdk/collections';
import { moveItemInArray } from '@angular/cdk/drag-drop';
import { Constants } from './constants';
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/snack-bar";
import * as i2 from "./dynamictable.service";
import * as i3 from "@angular/platform-browser";
import * as i4 from "./table-filter-panel/table-filter-panel.component";
import * as i5 from "@angular/material/table";
import * as i6 from "@angular/material/checkbox";
import * as i7 from "@angular/material/sort";
import * as i8 from "@angular/material/button";
import * as i9 from "@angular/material/icon";
import * as i10 from "@angular/material/menu";
import * as i11 from "@angular/material/slide-toggle";
import * as i12 from "@angular/material/button-toggle";
import * as i13 from "@angular/material/paginator";
import * as i14 from "@angular/common";
import * as i15 from "@angular/cdk/drag-drop";
import * as i16 from "@angular/material/tooltip";
import * as i17 from "./dynamic-type-pipe/dynamic-type-pipe";
export class DynamictableComponent {
    constructor(_snackBar, changeDetectorRefs, dynamictableFilterService, domSanitizer, dynamictableScrollerService) {
        this._snackBar = _snackBar;
        this.changeDetectorRefs = changeDetectorRefs;
        this.dynamictableFilterService = dynamictableFilterService;
        this.domSanitizer = domSanitizer;
        this.dynamictableScrollerService = dynamictableScrollerService;
        this.horizontalPosition = 'center';
        this.verticalPosition = 'top';
        this.spans = [];
        this.selectedRows = [];
        this.opened = false;
        this.lastScrollLeft = 0;
        this.stickyColumns = [];
        this.stickyEndColumns = [];
        this.selectedRowIndex = -1;
        this.reverseSortColumns = {};
        this.fetchDataCallback = new EventEmitter();
        this.rowLevelActionHandler = new EventEmitter();
        this.cellClickActionHandler = new EventEmitter();
        this.onConfigOptionsChange = new EventEmitter();
        this.onToggleChangeHandler = new EventEmitter();
        this.onSelectButtonToggle = new EventEmitter();
        this.visibleColumns = new Array();
        this.customWhen = (index) => {
            return this.configOptions.rowsExpandable;
        };
    }
    set configOptions(configOptions) {
        this._configOptions = configOptions
            ? { ...configOptions }
            : {};
    }
    get configOptions() {
        return this._configOptions;
    }
    set dataSource(dataSource) {
        this._dataSource = dataSource
            ? dataSource
            : {};
        this.dataSource.paginator = this.paginator;
        this.selectedRows = this.dataSource?.data.filter((data) => data?.isSelected);
    }
    get dataSource() {
        return this._dataSource;
    }
    resetConfigOptions() {
        this.configOptions = { ...this.configOptions };
        this.setColumnsToDisplay();
        this.visibleColumns = this.configOptions.allColumns.filter((column) => column['visible']);
        this.configOptions.groupByColumns.forEach((column) => {
            this.reOrderColumns(column, 'index');
            this.setColumnsToDisplay();
            this.stick(column);
            this.displayedColumns.forEach((column) => {
                if (column.id == column) {
                    column.sticky = true;
                }
            });
        });
    }
    highlight(row) {
        this.selectedRowIndex = row.id;
    }
    ngOnInit() {
        this.selection = new SelectionModel(true, this.selectedRows);
        this.resetConfigOptions();
        this.subscription = this.dynamictableFilterService
            .getEventEmitter()
            .subscribe((eventData) => this.handleEvent(eventData));
        this.scrollSubscription = this.dynamictableScrollerService
            .getEventEmitter()
            .subscribe(() => {
            this.scrollToTop();
        });
        this.dataSource.sortingDataAccessor = (data, sortHeaderId) => {
            const configInfo = this.configOptions.allColumns.filter((item) => item.id === sortHeaderId);
            if (data[sortHeaderId] === null || data[sortHeaderId] === undefined)
                if (configInfo.type === 'string') {
                    return '';
                }
                else if (configInfo.type === 'number') {
                    return 0;
                }
            if (configInfo.type === 'string') {
                return data[sortHeaderId].toLowerCase();
            }
            else {
                return data[sortHeaderId];
            }
        };
        this.configOptions.allColumns.map((col) => {
            if (col.reverseSort) {
                this.reverseSortColumns[col.id] = 1;
            }
        });
        this.dataSource.sortData = this.sortData();
    }
    sortData() {
        let sortFunction = (items, sort) => {
            if (!sort.active || sort.direction === '') {
                return items;
            }
            return items.sort((a, b) => {
                let comparatorResult = 0;
                const dateTimeRegex = /^(\w{3}\s\d{1,2},\s\d{2,4})\s(\d{1,2}:\d{2}\s[APap][Mm])$/;
                const dateRangeRegex = /^(\w{3} \d{1,2}, \d{2,4}) - (\w{3} \d{1,2}, \d{2,4})$/;
                const column = sort.active;
                if (a[column] === null ||
                    a[column] === undefined ||
                    a[column] === '_ _' ||
                    a[column].length === 0)
                    return 1;
                if (b[column] === null ||
                    b[column] === undefined ||
                    b[column] === '_ _' ||
                    b[column].length === 0)
                    return -1;
                if (typeof a[column] === 'number' && typeof b[column] === 'number') {
                    if (this.reverseSortColumns[column]) {
                        comparatorResult = b[column] - a[column];
                    }
                    else {
                        comparatorResult = a[column] - b[column];
                    }
                    return comparatorResult * (sort.direction == 'asc' ? 1 : -1);
                }
                else if (typeof a[column] === 'number') {
                    return -1;
                }
                else if (typeof b[column] === 'number') {
                    return 1;
                }
                else if (dateRangeRegex.test(a[column]) &&
                    dateRangeRegex.test(b[column])) {
                    const date1 = new Date(a[column].split('-')[0].trim()).getTime();
                    const date2 = new Date(b[column].split('-')[0].trim()).getTime();
                    if (this.reverseSortColumns[column]) {
                        comparatorResult = date2 - date1;
                    }
                    else {
                        comparatorResult = date1 - date2;
                    }
                    return comparatorResult * (sort.direction == 'asc' ? 1 : -1);
                }
                else if (dateTimeRegex.test(a[column]) &&
                    dateTimeRegex.test(b[column])) {
                    const date1 = new Date(a[column]).getTime();
                    const date2 = new Date(b[column]).getTime();
                    if (this.reverseSortColumns[column]) {
                        comparatorResult = date2 - date1;
                    }
                    else {
                        comparatorResult = date1 - date2;
                    }
                    return comparatorResult * (sort.direction == 'asc' ? 1 : -1);
                }
                else if (Array.isArray(a[column]) && Array.isArray(b[column])) {
                    if (this.reverseSortColumns[column]) {
                        comparatorResult = b[column][0].localeCompare(a[column][0]);
                    }
                    else {
                        comparatorResult = a[column][0].localeCompare(b[column][0]);
                    }
                    return comparatorResult * (sort.direction == 'asc' ? 1 : -1);
                }
                else {
                    if (this.reverseSortColumns[column]) {
                        comparatorResult = b[column].localeCompare(a[column]);
                    }
                    else {
                        comparatorResult = a[column].localeCompare(b[column]);
                    }
                    return comparatorResult * (sort.direction == 'asc' ? 1 : -1);
                }
            });
        };
        return sortFunction;
    }
    ngOnChanges(changes) {
        if (changes &&
            changes['dataSource'] &&
            !changes['dataSource'].firstChange) {
            if (changes['dataSource']['currentValue'].data <
                changes['dataSource']['previousValue'].data) {
                this.resetTableScroll();
            }
            // mergeRows for newly concatenated rows
            const groupedCols = [];
            this.configOptions.allColumns.forEach((col) => {
                if (col.reverseSort)
                    this.reverseSortColumns[col.id] = 1;
                const groupByCols = this.configOptions.groupByColumns;
                const index = groupByCols.indexOf(col.id);
                if (index > -1) {
                    groupedCols.push(col);
                }
            });
            if (groupedCols.length) {
                groupedCols.forEach((col) => {
                    if (col.isMultiValued) {
                        this.dataSource.data = this.expandRowsForMultiValuedCols(col.id);
                    }
                });
            }
            this.dataSource.sortingDataAccessor = (data, sortHeaderId) => {
                const configInfo = this.configOptions.allColumns.filter((item) => item.id === sortHeaderId);
                if (data[sortHeaderId] === null || data[sortHeaderId] === undefined) {
                    if (configInfo.type === 'string') {
                        return '';
                    }
                    else if (configInfo.type === 'number') {
                        return 0;
                    }
                }
                if (configInfo.type === 'string') {
                    return data[sortHeaderId].toLowerCase();
                }
                else {
                    return data[sortHeaderId];
                }
            };
            this.dataSource.sortData = this.sortData();
            this.dataSource.sort = this.sort;
            this.resetSelection();
            this.repaintTable();
        }
        if (changes &&
            changes['configOptions'] &&
            !changes['configOptions'].firstChange) {
            this.resetConfigOptions();
        }
        if (changes &&
            changes['configOptions'] &&
            changes['configOptions'].firstChange) {
            this.configOptions.allColumns.forEach((col) => {
                col.originalOrder = col.order;
            });
        }
    }
    handleEvent(event) {
        switch (event.eventType) {
            case Constants.EXECUTE_UNDO:
                this.triggerUndoExecution(event);
                break;
            case Constants.EXECUTE_REDO:
                this.triggerRedoExecution(event);
                break;
            case Constants.ADD_GROUP:
                this.addGroup(event.data);
                break;
            case Constants.REMOVE_GROUP:
                this.removeGroup(event.data);
                break;
            case Constants.ADD_COLUMN:
                this.toggleColumnVisibility(event.data.isChecked, event.data.columnId);
                break;
            case Constants.REMOVE_COLUMN:
                this.toggleColumnVisibility(event.data.isChecked, event.data.columnId);
                break;
        }
    }
    triggerUndoExecution(event) {
        switch (event.eventName) {
            case Constants.ADD_GROUP:
                this.removeGroup(event.data, undefined, true);
                break;
            case Constants.REMOVE_GROUP:
                this.addGroup(event.data, undefined, true);
                break;
            case Constants.ADD_COLUMN:
                this.toggleColumnVisibility(false, event.data, true);
                break;
            case Constants.REMOVE_COLUMN:
                this.toggleColumnVisibility(true, event.data, true);
                break;
        }
    }
    triggerRedoExecution(event) {
        switch (event.eventName) {
            case Constants.ADD_GROUP:
                this.addGroup(event.data, undefined, true);
                break;
            case Constants.REMOVE_GROUP:
                this.removeGroup(event.data, undefined, true);
                break;
            case Constants.ADD_COLUMN:
                this.toggleColumnVisibility(true, event.data, true);
                break;
            case Constants.REMOVE_COLUMN:
                this.toggleColumnVisibility(false, event.data, true);
                break;
        }
    }
    isGrouped(columnId) {
        let isGrouped = false;
        let groupByCols = this.configOptions.groupByColumns;
        if (groupByCols.indexOf(columnId) > -1) {
            isGrouped = true;
        }
        return isGrouped;
    }
    isArray(object) {
        return Array.isArray(object);
    }
    expandRowsForMultiValuedCols(colId) {
        const dataSourceTemp = [...this.dataSource.data];
        const expandedRows = [];
        dataSourceTemp.forEach((row) => {
            const multiValues = row[colId];
            if (Array.isArray(multiValues)) {
                multiValues.forEach((val) => {
                    const expandRowTemp = { ...row };
                    expandRowTemp[colId] = val;
                    expandedRows.push(expandRowTemp);
                });
            }
            else {
                expandedRows.push(row);
            }
        });
        return expandedRows;
    }
    mergeRowsForMultiValuedCols(colId) {
        const dataSourceTemp = [...this.dataSource.data];
        const mergedRows = [];
        dataSourceTemp.forEach((row) => {
            const index = mergedRows.findIndex((r) => r.id === row.id);
            if (index > -1) {
                const existingRow = mergedRows[index];
                let multiValuedCol = existingRow[colId];
                if (Array.isArray(multiValuedCol)) {
                    multiValuedCol.push(row[colId]);
                }
                else {
                    let tempVal = multiValuedCol;
                    multiValuedCol = [tempVal];
                    multiValuedCol.push(row[colId]);
                }
                existingRow[colId] = multiValuedCol;
                mergedRows[index] = existingRow;
            }
            else {
                mergedRows.push(row);
            }
        });
        return mergedRows;
    }
    addGroup(item, event, externalTrigger) {
        if (event) {
            event.stopPropagation();
        }
        if (item.isMultiValued) {
            this.dataSource.data = this.expandRowsForMultiValuedCols(item.id);
        }
        let groupedColIds = this.configOptions.groupByColumns;
        let groupIndex = groupedColIds.indexOf(item.id);
        if (this.configOptions.groupByColumns.length >= 3 || groupIndex > -1) {
            return;
        }
        let _groupedColumnIDs = [...this.configOptions.groupByColumns];
        _groupedColumnIDs.push(item.id);
        this.configOptions.groupByColumns = [..._groupedColumnIDs];
        this.reOrderColumns(item.id, 'index');
        this.setColumnsToDisplay();
        this.stick(item.id);
        this.displayedColumns.forEach((column) => {
            if (column.id === item.id) {
                column.sticky = true;
            }
        });
        this.configOptions = { ...this.configOptions };
        this.onConfigOptionsChange.emit({
            eventType: Constants.REFRESH_CONFIG,
            data: this.configOptions
        });
        if (!externalTrigger) {
            this.onConfigOptionsChange.emit({
                eventType: Constants.WRITE_TO_UNDO_REDO,
                eventName: Constants.ADD_GROUP,
                data: item
            });
        }
    }
    removeGroup(item, event, externalTrigger) {
        if (event) {
            event.stopPropagation();
        }
        if (item.isMultiValued) {
            this.dataSource.data = this.mergeRowsForMultiValuedCols(item.id);
        }
        let _groupedColumnIDs = [...this.configOptions.groupByColumns];
        let index = _groupedColumnIDs.findIndex((x) => x === item.id);
        if (index > -1) {
            _groupedColumnIDs.splice(index, 1);
        }
        this.configOptions.groupByColumns = [..._groupedColumnIDs];
        this.reOrderColumns(item.id, 'original');
        this.setColumnsToDisplay();
        this.unstick(item.id);
        this.displayedColumns.forEach((column) => {
            if (column.id == item.id) {
                column.sticky = false;
            }
        });
        this.configOptions = { ...this.configOptions };
        this.onConfigOptionsChange.emit({
            eventType: Constants.REFRESH_CONFIG,
            data: this.configOptions
        });
        if (!externalTrigger) {
            this.onConfigOptionsChange.emit({
                eventType: Constants.WRITE_TO_UNDO_REDO,
                eventName: Constants.REMOVE_GROUP,
                data: item
            });
        }
    }
    optionClicked(event, item) {
        event.stopPropagation();
        item.selected = !item.selected;
        if (item.selected) {
            this.toggleColumnVisibility(true, item.id);
        }
        else {
            this.toggleColumnVisibility(false, item.id);
        }
    }
    onTableScroll(event) {
        let element = event.target;
        let isBottomReached = Math.abs(element.scrollHeight) -
            Math.abs(element.scrollTop) -
            Math.abs(element.clientHeight) <=
            1;
        let documentScrollLeft = element.scrollLeft;
        if (this.lastScrollLeft !== documentScrollLeft) {
            this.lastScrollLeft = documentScrollLeft;
            return;
        }
        if (isBottomReached) {
            this.fetchDataCallback.emit({ data: 'infiniteScroll' });
        }
        this.scrollTop = element.scrollTop;
    }
    onRowLevelActionClick(action, event, subMenu = 'subMenu') {
        this.rowLevelActionHandler.emit({
            action: action.action,
            data: event,
            subMenu: subMenu
        });
    }
    onRowLevelActionIconClick(action, event) {
        this.dataSource.data = this.dataSource.data.map((row) => row.id === event.id
            ? { ...row, [action.property]: !row[action.property] }
            : row);
        this.rowLevelActionHandler.emit({
            action: action.action,
            data: event
        });
    }
    setColumnsToDisplay() {
        this.configOptions.allColumns.sort((a, b) => {
            return a.order - b.order;
        });
        let _displayedColumns = this.configOptions.allColumns.filter((column) => column['visible']);
        this.displayedColumns = _displayedColumns;
        let _displayedColStrs = _displayedColumns.map((col) => col['id']);
        if (this.configOptions.enableRowsSelection) {
            this.columnsToDisplay = ['selected', ..._displayedColStrs.slice()];
        }
        else {
            this.columnsToDisplay = [..._displayedColStrs.slice()];
        }
        if (this.configOptions.displayActionsColumn) {
            this.columnsToDisplay = [...this.columnsToDisplay, 'actions'];
        }
        this.configOptions = { ...this.configOptions };
    }
    groupAndSort(data) {
        let _data = [];
        let groupByCols = this.configOptions.groupByColumns;
        if (groupByCols.length > 0) {
            let groupsL0 = this.groupBy(data, groupByCols[0]);
            groupsL0 = Object.values(groupsL0);
            if (groupByCols.length > 1) {
                groupsL0.forEach((rowL0) => {
                    let _groupL1 = this.groupBy(rowL0, groupByCols[1]);
                    _groupL1 = Object.values(_groupL1);
                    if (groupByCols.length > 2) {
                        _groupL1.forEach((rowL1) => {
                            let _groupL2 = this.groupBy(rowL1, groupByCols[2]);
                            _groupL2 = Object.values(_groupL2);
                            let arr = [];
                            _groupL2.forEach((element) => {
                                arr = arr.concat(element);
                            });
                            _data = _data.concat(...arr);
                        });
                    }
                    else {
                        let arr = [];
                        _groupL1.forEach((element) => {
                            arr = arr.concat(element);
                        });
                        _data = _data.concat(...arr);
                    }
                });
            }
            else {
                let arr = [];
                groupsL0.forEach((element) => {
                    arr = arr.concat(element);
                });
                _data = _data.concat(...arr);
            }
            this.dataSource.data = _data;
        }
    }
    groupBy(arr, key) {
        let result = arr.reduce(function (r, a) {
            r[a[key]] = r[a[key]] || [];
            r[a[key]].push(a);
            return r;
        }, Object.create(null));
        return result;
    }
    cacheSpan(key, groupLevel) {
        const DATA = [...this.dataSource.data];
        for (let i = 0; i < DATA.length;) {
            let currentValue = DATA[i][key];
            let group0Key;
            let group1Key;
            let group2Key;
            let group0Val;
            let group1Val;
            let group2Val;
            if (groupLevel == 2) {
                group0Key = this.configOptions.groupByColumns[0];
                group1Key = this.configOptions.groupByColumns[1];
                group2Key = this.configOptions.groupByColumns[2];
                group0Val = DATA[i][this.configOptions.groupByColumns[0]];
                group1Val = DATA[i][this.configOptions.groupByColumns[1]];
                group2Val = DATA[i][this.configOptions.groupByColumns[2]];
            }
            else if (groupLevel == 1) {
                group0Key = this.configOptions.groupByColumns[0];
                group1Key = this.configOptions.groupByColumns[1];
                group0Val = DATA[i][this.configOptions.groupByColumns[0]];
                group1Val = DATA[i][this.configOptions.groupByColumns[1]];
            }
            else if (groupLevel == 0) {
                group0Key = this.configOptions.groupByColumns[0];
                group1Key = this.configOptions.groupByColumns[1];
                group0Val = DATA[i][this.configOptions.groupByColumns[0]];
            }
            let count = 1;
            for (let j = i + 1; j < DATA.length; j++) {
                let isSameGroup = true;
                if (groupLevel == 2) {
                    if ((group0Key && group0Val !== DATA[j][group0Key]) ||
                        (group1Key && group1Val !== DATA[j][group1Key])) {
                        isSameGroup = false;
                    }
                }
                else if (groupLevel == 1) {
                    if (group0Key && group0Val !== DATA[j][group0Key]) {
                        isSameGroup = false;
                    }
                }
                if (!isSameGroup) {
                    break;
                }
                if (currentValue !== DATA[j][key]) {
                    break;
                }
                count++;
            }
            if (!this.spans[i]) {
                this.spans[i] = {};
            }
            this.spans[i][key] = count;
            i += count;
        }
    }
    getRowSpan(col, index) {
        let groupByCols = this.configOptions.groupByColumns;
        if (groupByCols.indexOf(col) > -1) {
            return this.spans[index] && this.spans[index][col];
        }
        return 1;
    }
    getRowSpanDisplay(col, index) {
        let displayStr = '';
        let groupByCols = this.configOptions.groupByColumns;
        if (groupByCols.indexOf(col) > -1) {
            displayStr = this.spans[index] && this.spans[index][col] ? 'none' : '';
        }
        return displayStr;
    }
    getColumnByID(colId) {
        let column;
        let colIndex = this.configOptions.allColumns.findIndex((x) => x.id === colId);
        if (colIndex > -1) {
            column = this.configOptions.allColumns[colIndex];
        }
        return column;
    }
    openSnackBar(message) {
        this._snackBar.open(message, '', {
            horizontalPosition: this.horizontalPosition,
            verticalPosition: this.verticalPosition,
            duration: 5000 // 5 milliseconds
        });
    }
    toggleColumnVisibility(isVisible, colId, externalTrigger) {
        this.visibleColumns = this.configOptions.allColumns.filter((column) => column['visible']);
        if (!isVisible && this.visibleColumns.length == 1) {
            this.openSnackBar('Please make sure to have aleast one column in the report!');
            return;
        }
        let groupedColIds = this.configOptions.groupByColumns;
        let groupIndex = groupedColIds.indexOf(colId);
        if (groupIndex > -1 && !isVisible) {
            let column = this.getColumnByID(colId);
            if (column) {
                this.removeGroup(column);
            }
        }
        this.configOptions.allColumns.forEach((col) => {
            if (col['id'] === colId) {
                col['visible'] = isVisible;
            }
        });
        this.reOrderColumns(colId, 'end');
        this.setColumnsToDisplay();
        this.onConfigOptionsChange.emit({
            eventType: Constants.REFRESH_CONFIG,
            data: this.configOptions
        });
        if (!externalTrigger) {
            let _eventName = isVisible
                ? Constants.ADD_COLUMN
                : Constants.REMOVE_COLUMN;
            this.onConfigOptionsChange.emit({
                eventType: Constants.WRITE_TO_UNDO_REDO,
                eventName: _eventName,
                data: colId
            });
        }
    }
    hideColumn(columnId) {
        this.toggleColumnVisibility(false, columnId);
    }
    showColumn(event, column) {
        event.stopPropagation();
        this.toggleColumnVisibility(true, column.id);
    }
    drop(event) {
        let _columnsToDisplay = this.columnsToDisplay;
        if (this.configOptions.enableRowsSelection) {
            this.columnsToDisplay.splice(0, 1);
            _columnsToDisplay = this.columnsToDisplay;
            moveItemInArray(_columnsToDisplay, event.previousIndex, event.currentIndex);
            this.columnsToDisplay = ['selected', ..._columnsToDisplay];
        }
        else {
            moveItemInArray(_columnsToDisplay, event.previousIndex, event.currentIndex);
            this.columnsToDisplay = [..._columnsToDisplay];
        }
    }
    reOrderColumns(columnName, movePosition) {
        let prevIndex = this.configOptions.allColumns.findIndex((x) => x.id === columnName);
        let newIndex;
        if (movePosition === 'left') {
            newIndex = prevIndex - 1;
        }
        else if (movePosition === 'right') {
            newIndex = prevIndex + 1;
        }
        else if (movePosition === 'index') {
            newIndex = this.configOptions.groupByColumns.length - 1;
        }
        else if (movePosition === 'original') {
            const index = this.configOptions.allColumns.findIndex((col) => col.id === columnName);
            if (index > -1) {
                newIndex =
                    this.configOptions.allColumns[index].originalOrder ||
                        this.configOptions.allColumns.length;
                newIndex = newIndex - 1;
            }
            else {
                newIndex = this.configOptions.allColumns.length;
            }
        }
        else {
            newIndex = this.configOptions.allColumns.length;
        }
        moveItemInArray(this.configOptions.allColumns, prevIndex, newIndex);
        this.configOptions.allColumns.forEach((column, index) => {
            column.order = index + 1;
        });
        this.repaintTable();
    }
    moveLeft(columnName) {
        let _columnsToDisplay = this.columnsToDisplay;
        if (this.configOptions.enableRowsSelection) {
            this.columnsToDisplay.splice(0, 1);
            _columnsToDisplay = this.columnsToDisplay;
            let prevIndex = _columnsToDisplay.indexOf(columnName);
            let currentIndex = prevIndex - 1;
            moveItemInArray(_columnsToDisplay, prevIndex, currentIndex);
            this.reOrderColumns(columnName, 'left');
            this.columnsToDisplay = ['selected', ..._columnsToDisplay];
        }
        else {
            let prevIndex = _columnsToDisplay.indexOf(columnName);
            let currentIndex = prevIndex - 1;
            moveItemInArray(_columnsToDisplay, prevIndex, currentIndex);
            this.reOrderColumns(columnName, 'left');
            this.columnsToDisplay = [..._columnsToDisplay];
        }
    }
    moveRight(columnName) {
        let _columnsToDisplay = this.columnsToDisplay;
        if (this.configOptions.enableRowsSelection) {
            this.columnsToDisplay.splice(0, 1);
            _columnsToDisplay = this.columnsToDisplay;
            let prevIndex = _columnsToDisplay.indexOf(columnName);
            let currentIndex = prevIndex + 1;
            moveItemInArray(_columnsToDisplay, prevIndex, currentIndex);
            this.reOrderColumns(columnName, 'right');
            this.columnsToDisplay = ['selected', ..._columnsToDisplay];
        }
        else {
            let prevIndex = _columnsToDisplay.indexOf(columnName);
            let currentIndex = prevIndex + 1;
            moveItemInArray(_columnsToDisplay, prevIndex, currentIndex);
            this.reOrderColumns(columnName, 'right');
            this.columnsToDisplay = [..._columnsToDisplay];
        }
    }
    isSticky(stickyColumns, id) {
        return stickyColumns.indexOf(id) !== -1;
    }
    isStickyEnd(stickyEndColumns, id) {
        return stickyEndColumns.indexOf(id) !== -1;
    }
    stick(columnName) {
        if (!this.stickyColumns.includes(columnName)) {
            this.stickyColumns.push(columnName);
        }
        this.configOptions.allColumns.forEach((column) => {
            if (column.id === columnName) {
                column.sticky = true;
            }
        });
    }
    stickToEnd(columnName) {
        this.stickyEndColumns.push(columnName);
    }
    unstick(columnName) {
        this.stickyColumns = this.stickyColumns.filter((col) => col !== columnName);
        this.configOptions.allColumns.forEach((column) => {
            if (columnName === column.id) {
                column.sticky = false;
            }
        });
    }
    unstickEnd(columnName) {
        const index = this.stickyEndColumns.indexOf(columnName);
        if (index > -1) {
            this.stickyEndColumns.splice(index, 1);
        }
    }
    /** Whether the number of selected elements matches the total number of rows. */
    isAllSelected() {
        const numSelected = this.selection.selected.length;
        const numRows = this.dataSource.data.length;
        return numSelected === numRows;
    }
    /** Selects all rows if they are not all selected; otherwise clear selection. */
    masterToggle() {
        if (this.isAllSelected()) {
            this.selection.clear();
            this.rowLevelActionHandler.emit({
                action: 'toggleAllRows',
                data: false
            });
            return;
        }
        this.rowLevelActionHandler.emit({
            action: 'toggleAllRows',
            data: true
        });
        this.selection.select(...this.dataSource.data);
    }
    /** The label for the checkbox on the passed row */
    checkboxLabel(row) {
        if (!row) {
            return `${this.isAllSelected() ? 'deselect' : 'select'} all`;
        }
        return `${this.selection.isSelected(row) ? 'deselect' : 'select'} row ${row.position + 1}`;
    }
    toggleRowSelect(row) {
        if (row) {
            this.selection.toggle(row);
            this.rowLevelActionHandler.emit({
                action: 'toggleRowSelect',
                data: row
            });
        }
    }
    onCellClick(row, columnId, controlType, element = null) {
        if (controlType !== 'menu') {
            if (!element)
                this.cellClickActionHandler.emit({
                    row,
                    columnId,
                    scrollTop: this.scrollTop ? this.scrollTop : 0
                });
            else
                this.cellClickActionHandler.emit({
                    row,
                    columnId,
                    element,
                    scrollTop: this.scrollTop ? this.scrollTop : 0
                });
        }
    }
    onMenuButtonClick(row, columnId, option) {
        this.cellClickActionHandler.emit({
            row,
            columnId,
            option
        });
    }
    resetTableScroll() {
        if (!this.dataSource.data.length) {
            this.configOptions.tableHeight = '60px';
        }
        // commented this line of code to not to scroll to top directly
        // const element = document.getElementById('matTableMain');
        // if (element) {
        //   element.scrollTop = 0;
        // }
    }
    repaintTable() {
        this.groupAndSort(this.dataSource.data);
        this.spans = [];
        this.configOptions.groupByColumns.forEach((col, index) => {
            this.cacheSpan(col, index);
        });
        this.changeDetectorRefs.detectChanges();
    }
    ngAfterViewInit() {
        this.dataSource.paginator = this.paginator;
        if (this.configOptions?.defaultSortColumn) {
            this.sort.active = this.configOptions.defaultSortColumn;
            this.sort.direction = this.configOptions?.defaultSortDirection
                ? this.configOptions.defaultSortDirection
                : 'asc';
        }
        this.dataSource.sort = this.sort;
        this.resetTableScroll();
        this.repaintTable();
    }
    evaluateCondition(rowData, item = { condition: true }) {
        if (item.condition === true || item.condition === false)
            return item.condition;
        const { operation, operand, fieldName, dependentFieldName } = item.condition;
        const fieldValue = rowData[fieldName];
        const dependentFieldValue = dependentFieldName
            ? rowData[dependentFieldName]
            : true;
        if (dependentFieldValue === false)
            return;
        switch (operation) {
            case '=':
                return fieldValue === operand;
            case '!=':
                return fieldValue !== operand;
            case '>':
                return fieldValue > operand;
            case '<':
                return fieldValue < operand;
            case '>=':
                return fieldValue >= operand;
            case '<=':
                return fieldValue <= operand;
            case 'contains':
                return fieldValue
                    .toString()
                    .toLowerCase()
                    .includes(operand.toString().toLowerCase());
            case 'notContains':
                return !fieldValue
                    .toString()
                    .toLowerCase()
                    .includes(operand.toString().toLowerCase());
            case 'startsWith':
                return fieldValue
                    .toString()
                    .toLowerCase()
                    .startsWith(operand.toString().toLowerCase());
            case 'endsWith':
                return fieldValue
                    .toString()
                    .toLowerCase()
                    .endsWith(operand.toString().toLowerCase());
            case 'in':
                return operand.includes(fieldValue);
            case 'notIn':
                return !operand.includes(fieldValue);
            case 'isNull':
                return fieldValue === null;
            case 'isNotNull':
                return fieldValue !== null;
            case 'isEmpty':
                return fieldValue === '';
            case 'isNotEmpty':
                return fieldValue !== '';
            case 'isTrue':
                return fieldValue === true;
            case 'isFalse':
                return fieldValue === false;
            case 'isTruthy':
                return !!fieldValue;
            case 'isFalsy':
                return !fieldValue;
            case 'isToday':
            // todo
            case 'isThisWeek':
            //todo
            case 'isThisMonth':
            //todo
        }
    }
    getConditionalStyles(existingStyles, rowData, column) {
        let styles = { ...existingStyles };
        if (column.hasConditionalStyles) {
            const conditionalStyles = this.configOptions.conditionalStyles;
            let value = rowData[column.id];
            if (value) {
                value = value.toLowerCase();
            }
            const style = conditionalStyles[value];
            styles = { ...styles, ...style };
        }
        if (column?.hasMatToolTip) {
            const style = { 'white-space': 'nowrap', 'display': 'block', 'overflow': 'hidden', 'text-overflow': 'ellipsis', 'max-width': '160px' };
            styles = { ...styles, ...style };
        }
        if (rowData[column.id + '_styles'] &&
            typeof rowData[column.id + '_styles'] === 'object') {
            styles = { ...styles, ...rowData[column.id + '_styles'] };
        }
        return styles;
    }
    evaluateExpression(rowData, column) {
        let styles = {};
        let groupedColumns = this.configOptions.groupByColumns;
        let index = groupedColumns.indexOf(column.id);
        if (index > -1) {
            styles = {
                ...styles,
                background: this.configOptions.groupLevelColors[index]
                    ? this.configOptions.groupLevelColors[index]
                    : ''
            };
        }
        column.operations?.forEach((op) => {
            switch (op.operation) {
                case 'gt':
                    if (rowData[column.id] > op.value) {
                        styles = { ...styles, ...op.styles };
                    }
                    break;
                case 'lt':
                    if (rowData[column.id] < op.value) {
                        styles = { ...styles, ...op.styles };
                    }
                    break;
                case 'equal':
                    if (rowData[column.id] === op.value) {
                        styles = { ...styles, ...op.styles };
                    }
                    break;
            }
        });
        return styles;
    }
    getDisplayValues(value, separator = ',') {
        return value ? value.split(separator) : [];
    }
    getDisplayType(element, column, value) {
        const status = element[column.controlValue?.dependentFieldId];
        if (value?.dependentFieldValues?.length) {
            if (value?.dependentFieldValues.includes(status?.toLowerCase()))
                value.displayType = 'dropdown';
            else
                value.displayType = 'text';
        }
        return value.displayType;
    }
    onToggleChange(event) {
        this.onToggleChangeHandler.emit(event.checked);
    }
    scrollToTop() {
        const element = document.getElementById('matTableMain');
        if (element) {
            element.scrollTop = 0;
        }
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
        this.scrollSubscription.unsubscribe();
    }
    resetSelection() {
        this.selection = new SelectionModel(true, this.selectedRows);
    }
    // sortDataSource(idVal: string, startVal?: 'asc' | 'desc'): void {
    //   this.dataSource.sort?.sort(<MatSortable>({ id: idVal, start: startVal}));
    // }
    onValChange(element, val) {
        this.onSelectButtonToggle.emit({ element, val });
    }
}
DynamictableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DynamictableComponent, deps: [{ token: i1.MatSnackBar }, { token: i0.ChangeDetectorRef }, { token: i2.DynamictableFilterService }, { token: i3.DomSanitizer }, { token: i2.DynamictableScrollerService }], target: i0.ɵɵFactoryTarget.Component });
DynamictableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DynamictableComponent, selector: "cwp-dynamictable", inputs: { configOptions: "configOptions", dataSource: "dataSource" }, outputs: { fetchDataCallback: "fetchDataCallback", rowLevelActionHandler: "rowLevelActionHandler", cellClickActionHandler: "cellClickActionHandler", onConfigOptionsChange: "onConfigOptionsChange", onToggleChangeHandler: "onToggleChangeHandler", onSelectButtonToggle: "onSelectButtonToggle" }, viewQueries: [{ propertyName: "paginator", first: true, predicate: MatPaginator, descendants: true }, { propertyName: "sort", first: true, predicate: MatSort, descendants: true }], usesOnChanges: true, ngImport: i0, template: "<div>\n  <div class=\"leftPanel\" *ngIf=\"configOptions.displayFilterPanel\">\n    <cwp-table-filter-panel\n      [configOptions]=\"configOptions\"\n      (eventsHandler)=\"handleEvent($event)\"\n    ></cwp-table-filter-panel>\n  </div>\n  <div\n    [ngClass]=\"\n      configOptions.displayFilterPanel ? 'tableMainContent' : 'tableFullWidth'\n    \"\n  >\n    <div class=\"tableMain\" id=\"tableMain\" (scroll)=\"onTableScroll($event)\">\n      <table\n        id=\"matTableMain\"\n        mat-table\n        class=\"mat-elevation-z0 dynamictable\"\n        [dataSource]=\"dataSource\"\n        matSort\n        multiTemplateDataRows\n        cdkDropList\n        [ngStyle]=\"{\n          width: configOptions.tableWidth,\n          'max-height': configOptions.tableHeight\n        }\"\n        cdkDropListOrientation=\"horizontal\"\n        (cdkDropListDropped)=\"drop($event)\"\n        (scroll)=\"onTableScroll($event)\"\n      >\n        <!-- Checkbox Column -->\n        <ng-container\n          matColumnDef=\"selected\"\n          *ngIf=\"configOptions.enableRowsSelection\"\n        >\n          <th mat-header-cell *matHeaderCellDef class=\"w-50 rowselect-checkbox\">\n            <mat-checkbox\n              (change)=\"$event ? masterToggle() : null\"\n              [checked]=\"selection.hasValue() && isAllSelected()\"\n              [indeterminate]=\"selection.hasValue() && !isAllSelected()\"\n              [aria-label]=\"checkboxLabel()\"\n            >\n            </mat-checkbox>\n          </th>\n          <td mat-cell *matCellDef=\"let row\" class=\"w-50\">\n            <mat-checkbox\n              [disabled]=\"\n                configOptions.enableRowsSelection &&\n                !evaluateCondition(row, configOptions.enableRowLevelActions)\n              \"\n              (click)=\"$event.stopPropagation()\"\n              (change)=\"$event ? toggleRowSelect(row) : null\"\n              [checked]=\"\n                configOptions.enableRowsSelection &&\n                evaluateCondition(row, configOptions.enableRowLevelActions) &&\n                selection.isSelected(row)\n              \"\n              [aria-label]=\"checkboxLabel(row)\"\n            >\n            </mat-checkbox>\n          </td>\n        </ng-container>\n        <!-- Other Dynamic Columns -->\n        <ng-container\n          [matColumnDef]=\"column.id\"\n          [sticky]=\"isSticky(stickyColumns, column.id)\"\n          [stickyEnd]=\"isStickyEnd(stickyEndColumns, column.id)\"\n          *ngFor=\"let column of displayedColumns\"\n        >\n          <th\n            mat-header-cell\n            cdkDrag\n            [cdkDragDisabled]=\"!column.movable\"\n            *matHeaderCellDef\n            class=\"tableHeaderCell table-column\"\n            [disableClear]=\"true\"\n            mat-sort-header\n            [disabled]=\"!column.sortable\"\n          >\n            <!-- <th mat-header-cell cdkDrag [cdkDragDisabled]=\"column.disabled\" *matHeaderCellDef class=\"tableHeaderCell\"> -->\n            <div class=\"headerCell\">\n              <div id=\"dynamictableHeadCellName\" class=\"headerCellLabel\">\n                {{ column.displayName }}\n                <span *ngIf=\"column.sortable === true\">\n                  <span\n                    id=\"dynamictableSortAsc\"\n                    *ngIf=\"\n                      sort &&\n                      sort.active === column.id &&\n                      sort.direction == 'asc'\n                    \"\n                  >\n                    &#8593;\n                  </span>\n                  <span\n                    id=\"dynamictableSortDesc\"\n                    *ngIf=\"\n                      sort &&\n                      sort.active === column.id &&\n                      sort.direction == 'desc'\n                    \"\n                  >\n                    &#8595;\n                  </span>\n                  <span *ngIf=\"sort && sort.active !== column.id\">&#8645;</span>\n                </span>\n              </div>\n              <div class=\"headerCellActions\" (click)=\"$event.stopPropagation()\">\n                <button\n                  id=\"dynamictableMoreOption\"\n                  type=\"button\"\n                  mat-icon-button\n                  [matMenuTriggerFor]=\"menu\"\n                  *ngIf=\"column.showMenuOptions\"\n                  aria-label=\"icon-button with a menu\"\n                  (click)=\"$event.stopPropagation()\"\n                  aria-label=\"More Options\"\n                >\n                  <mat-icon>more_horiz</mat-icon>\n                </button>\n                <mat-menu #menu=\"matMenu\" xPosition=\"before\">\n                  <button\n                    id=\"dynamictableHideCol\"\n                    type=\"button\"\n                    mat-menu-item\n                    (click)=\"hideColumn(column.id)\"\n                    *ngIf=\"column.hideable\"\n                  >\n                    Hide Column\n                  </button>\n                  <button\n                    id=\"dynamictableMoveLeft\"\n                    type=\"button\"\n                    mat-menu-item\n                    *ngIf=\"column.movable\"\n                    (click)=\"moveLeft(column.id)\"\n                  >\n                    Move Left\n                  </button>\n                  <button\n                    id=\"dynamictableMoveRight\"\n                    type=\"button\"\n                    mat-menu-item\n                    *ngIf=\"column.movable\"\n                    (click)=\"moveRight(column.id)\"\n                  >\n                    Move Right\n                  </button>\n                  <button\n                    id=\"dynamictableStick\"\n                    type=\"button\"\n                    mat-menu-item\n                    (click)=\"stick(column.id)\"\n                    *ngIf=\"\n                      !isSticky(stickyColumns, column.id) && column.stickable\n                    \"\n                  >\n                    Stick\n                  </button>\n                  <!-- <button\n                    mat-menu-item\n                    (click)=\"stickToEnd(column.id)\"\n                    *ngIf=\"!isStickyEnd(stickyColumns, column.id)\"\n                  >\n                    Stick to End\n                  </button> -->\n                  <button\n                    id=\"dynamictableColStickable\"\n                    type=\"button\"\n                    mat-menu-item\n                    (click)=\"unstick(column.id)\"\n                    *ngIf=\"\n                      (isSticky(stickyColumns, column.id) ||\n                        isStickyEnd(stickyEndColumns, column.id)) &&\n                      column.stickable\n                    \"\n                  >\n                    Un-stick\n                  </button>\n                  <button\n                    id=\"dynamictableAddGroup\"\n                    type=\"button\"\n                    mat-menu-item\n                    *ngIf=\"\n                      column.visible &&\n                      column.groupable &&\n                      !isGrouped(column.id)\n                    \"\n                    [disabled]=\"this.configOptions.groupByColumns.length >= 3\"\n                    (click)=\"addGroup(column, $event)\"\n                  >\n                    Group Rows by this Column\n                  </button>\n                  <button\n                    id=\"dynamictableRemoveGroup\"\n                    type=\"button\"\n                    mat-menu-item\n                    *ngIf=\"\n                      column.visible && column.groupable && isGrouped(column.id)\n                    \"\n                    (click)=\"removeGroup(column, $event)\"\n                  >\n                    Un-group this Column\n                  </button>\n                </mat-menu>\n              </div>\n            </div>\n          </th>\n          <!-- <td _ngcontent-pqd-c296=\"\" role=\"cell\" mat-cell=\"\" class=\"mat-cell cdk-cell cdk-column-name mat-column-name ng-tns-c296-0 ng-star-inserted\">\n            </td>\n         -->\n          <td\n            mat-cell\n            *matCellDef=\"let element; let i = dataIndex\"\n            [ngStyle]=\"evaluateExpression(element, column)\"\n            [attr.rowspan]=\"getRowSpan(column.id, i)\"\n            [style.display]=\"getRowSpan(column.id, i) ? '' : 'none'\"\n            class=\"table-column\"\n            (click)=\"onCellClick(element, column.id, column.controlType)\"\n            id=\"{{ column.id }}\"\n          >\n            <div\n              class=\"displayFlex\"\n              *ngIf=\"column && element\"\n              [ngClass]=\"{\n                disabled:\n                  element[column.controlValue?.dependentFieldId] === true &&\n                  column.controlValue.disableBackground === true,\n                'not-disabled':\n                  element[column.controlValue?.dependentFieldId] === false &&\n                  column.controlValue.disableBackground === true\n              }\"\n            >\n              <!-- <span\n                *ngIf=\"\n                  column.hasPreTextImage &&\n                  element.preTextImageConfig &&\n                  element.preTextImageConfig.logoAvialable === false\n                \"\n                [ngStyle]=\"element.preTextImageConfig.style\"\n              >\n                <avatar [text]=\"element.name\"></avatar>\n              </span> -->\n\n              <img\n                id=\"dynamictableImg\"\n                [src]=\"element.preTextImage.image\"\n                [ngStyle]=\"element.preTextImage.style\"\n                *ngIf=\"\n                  column.hasPreTextImage &&\n                  element.preTextImage &&\n                  element.preTextImage.image &&\n                  element.preTextImage.condition &&\n                  evaluateCondition(element, element.preTextImage)\n                \"\n                alt=\"Pre Image\"\n              />\n              <span\n                *ngIf=\"column.controlType === 'string'\"\n                [ngClass]=\"column?.hasMatToolTip ? 'mat-tooltip-parent' : ''\"\n              >\n                <span\n                  id=\"dynamictableColType\"\n                  *ngIf=\"!isArray(element[column.id])\"\n                  [ngStyle]=\"\n                    getConditionalStyles(column.titleStyle, element, column)\n                  \"\n                  (click)=\"onCellClick(element, column.id, column.controlType)\"\n                  #tooltip=\"matTooltip\"\n                  matTooltip=\"{{ element[column.id] }}\"\n                  matTooltipPosition=\"above\"\n                  [matTooltipDisabled]=\"!column.hasMatToolTip\"\n                >\n                  {{ element[column.id] | dynamicTypePipe : column.type }}\n                  <span\n                    *ngIf=\"column.hasRightElement\"\n                    id=\"dynamictableRightElement\"\n                    [innerHTML]=\"element.rightElement\"\n                  >\n                  </span>\n                </span>\n                <span\n                  *ngIf=\"isArray(element[column.id])\"\n                  [ngStyle]=\"column.titleStyle\"\n                >\n                  <span\n                    id=\"dynamictableItem\"\n                    *ngFor=\"let item of element[column.id]; last as isLast\"\n                    (click)=\"onCellClick(element, column.id, item)\"\n                  >\n                    {{ item }}<span *ngIf=\"!isLast\">, </span></span\n                  > </span\n                ><br />\n                <span\n                  id=\"dynamictableSubtitle\"\n                  *ngIf=\"column.hasSubtitle\"\n                  [ngStyle]=\"\n                    element[column.subtitleColumn] !== ''\n                      ? column.subtitleStyle\n                      : ''\n                  \"\n                >\n                  {{\n                    element[column.subtitleColumn]\n                      | dynamicTypePipe : column.type\n                  }}\n                </span>\n                <span\n                  *ngIf=\"column.hasBelowElement\"\n                  id=\"dynamictableSubtitleElement\"\n                >\n                  <br />\n                  <span [innerHTML]=\"element.belowElement\"></span>\n                </span>\n              </span>\n\n              <span *ngIf=\"column.controlType === 'slide-toggle'\">\n                <span class=\"slide-toggle\">\n                  <mat-slide-toggle\n                    [checked]=\"element[column.id]\"\n                    (change)=\"onToggleChange($event)\"\n                  ></mat-slide-toggle>\n                </span>\n              </span>\n\n              <span *ngIf=\"column.controlType === 'html'\">\n                <span [innerHTML]=\"element[column.id]\"></span>\n              </span>\n\n              <span *ngIf=\"column.controlType === 'button'\" class=\"button-span\">\n                <button\n                  id=\"dynamictableColValue\"\n                  type=\"button\"\n                  mat-stroked-button\n                  class=\"table-buttons\"\n                  *ngIf=\"!element[column.id]; else freeText\"\n                >\n                  {{ column.controlValue }}\n                </button>\n                <ng-template #freeText>\n                  <span id=\"dynamictableColId\">\n                    {{ element[column.id] }}\n                  </span>\n                </ng-template>\n              </span>\n\n              <span\n                *ngIf=\"column.controlType === 'button-toggle'\"\n                class=\"mat-button-span\"\n              >\n                <span\n                  *ngIf=\"column?.controlValue.length && !element[column.id]\"\n                >\n                  <ng-container *ngFor=\"let button of column?.controlValue\">\n                    <mat-button-toggle-group\n                      #group=\"matButtonToggleGroup\"\n                      (change)=\"onValChange(element, group.value)\"\n                    >\n                      <mat-button-toggle\n                        [value]=\"button.value\"\n                        class=\"{{ button.class }}\"\n                      >\n                        <mat-icon *ngIf=\"button.isIcon\">\n                          {{ button.iconName }}\n                        </mat-icon>\n                      </mat-button-toggle>\n                    </mat-button-toggle-group>\n                  </ng-container>\n                </span>\n                <span id=\"dynamictableColId\" *ngIf=\"element[column.id]\">\n                  {{ element[column.id] }}\n                </span>\n              </span>\n\n              <span *ngIf=\"column.controlType === 'menu'\" class=\"button-span\">\n                <button\n                  mat-stroked-button\n                  class=\"table-buttons\"\n                  [matMenuTriggerFor]=\"menu\"\n                  *ngIf=\"!element[column.id]; else freeText\"\n                >\n                  {{ column.controlValue['buttonName'] }}\n                </button>\n                <mat-menu #menu=\"matMenu\">\n                  <ng-template matMenuContent>\n                    <button\n                      mat-menu-item\n                      (click)=\"onMenuButtonClick(element, column.id, btn)\"\n                      *ngFor=\"let btn of column.controlValue['menuButtonNames']\"\n                      class=\"mat-menu-button\"\n                    >\n                      {{ btn }}\n                    </button>\n                  </ng-template>\n                </mat-menu>\n                <ng-template #freeText>\n                  <span>\n                    {{ element[column.id] }}\n                  </span>\n                </ng-template>\n              </span>\n\n              <span *ngIf=\"column.controlType === 'space-between'\">\n                <span class=\"space-between\" [ngStyle]=\"column.titleStyle\">\n                  <div\n                    *ngFor=\"\n                      let value of getDisplayValues(\n                        element[column.id],\n                        column.controlValue\n                      )\n                    \"\n                  >\n                    {{ value }}\n                  </div>\n                </span>\n              </span>\n\n              <span\n                *ngIf=\"column.controlType === 'dropdown'\"\n                [id]=\"element.id\"\n                class=\"width-100\"\n              >\n                <span\n                  class=\"dropdown\"\n                  *ngIf=\"\n                    getDisplayType(element, column, column.controlValue) ===\n                    'dropdown'\n                  \"\n                >\n                  <span\n                    id=\"dynamictableDropDown\"\n                    *ngIf=\"element[column.id] !== undefined\"\n                    class=\"dropdown-value\"\n                  >\n                    {{ element[column.id] }}\n                  </span>\n                  <span\n                    id=\"dynamictableSelect\"\n                    *ngIf=\"element[column.id] === undefined\"\n                    class=\"select-text\"\n                  >\n                    Select\n                  </span>\n                  <span class=\"arrow\">\n                    <mat-icon>arrow_drop_down</mat-icon>\n                  </span>\n                </span>\n                <span\n                  id=\"dynamictableText\"\n                  *ngIf=\"\n                    getDisplayType(element, column, column.controlValue) ===\n                    'text'\n                  \"\n                >\n                  {{ element[column.id] }}\n                </span>\n              </span>\n\n              <!-- <span\n                *ngIf=\"\n                  column.hasPostTextImage &&\n                  element.postTextImageConfig &&\n                  element.postTextImageConfig.logoAvialable === false\n                \"\n                [ngStyle]=\"element.postTextImageConfig.style\"\n              >\n                <avatar [text]=\"element.name\"></avatar>\n              </span> -->\n\n              <img\n                [src]=\"element.postTextImage.image\"\n                [ngStyle]=\"element.postTextImage.style\"\n                *ngIf=\"\n                  column.hasPostTextImage &&\n                  element.postTextImage &&\n                  element.postTextImage.image &&\n                  element.postTextImage.condition &&\n                  evaluateCondition(element, element.postTextImage)\n                \"\n                alt=\"Post Image\"\n              />\n            </div>\n          </td>\n        </ng-container>\n        <ng-container\n          matColumnDef=\"actions\"\n          [stickyEnd]=\"true\"\n          *ngIf=\"configOptions.displayActionsColumn\"\n        >\n          <th\n            id=\"dynamictableAction\"\n            mat-header-cell\n            *matHeaderCellDef\n            class=\"w-50 actions-column tableHeaderCell table-column\"\n          >\n            Actions\n          </th>\n          <td mat-cell *matCellDef=\"let row\">\n            <div class=\"action-icons-display-flex\">\n              <ng-container\n                *ngIf=\"configOptions.rowLevelActions.iconAction; let iconAction\"\n              >\n                <button\n                  id=\"dynamictableRowLevelAction\"\n                  type=\"button\"\n                  mat-icon-button\n                  class=\"more-actions\"\n                  (click)=\"onRowLevelActionIconClick(iconAction, row)\"\n                  aria-label=\"Row Level Action\"\n                >\n                  <mat-icon\n                    id=\"dynamictableIconToggleOn\"\n                    *ngIf=\"row[iconAction.property]\"\n                    [ngStyle]=\"iconAction.styleToggleOn\"\n                    (click)=\"onRowLevelActionIconClick(iconAction, row)\"\n                    class=\"action-icons\"\n                    >{{ iconAction.iconToggleOn }}\n                  </mat-icon>\n                  <mat-icon\n                    id=\"dynamictableToggleOff\"\n                    *ngIf=\"!row[iconAction.property]\"\n                    [ngStyle]=\"iconAction.styleToggleOff\"\n                    (click)=\"onRowLevelActionIconClick(iconAction, row)\"\n                    class=\"action-icons\"\n                    >{{ iconAction.iconToggleOff }}</mat-icon\n                  >\n                </button>\n              </ng-container>\n              <button\n                id=\"dynamictableActionMenu\"\n                type=\"button\"\n                mat-icon-button\n                [matMenuTriggerFor]=\"actionsMenu\"\n                class=\"more-actions\"\n                [disabled]=\"\n                  !evaluateCondition(row, configOptions.enableRowLevelActions)\n                \"\n                aria-label=\"More Options\"\n              >\n                <mat-icon id=\"dynamictableMoreIcon\">more_horiz</mat-icon>\n              </button>\n              <mat-menu #actionsMenu=\"matMenu\">\n                <ng-container\n                  *ngFor=\"\n                    let action of configOptions.rowLevelActions.menuActions\n                  \"\n                >\n                  <ng-container *ngIf=\"action.type !== 'menu'\">\n                    <button\n                      id=\"dynamictableActionClick\"\n                      type=\"button\"\n                      mat-menu-item\n                      *ngIf=\"\n                        !action.condition ||\n                        (action.condition && evaluateCondition(row, action))\n                      \"\n                      (click)=\"onRowLevelActionClick(action, row)\"\n                    >\n                      <mat-icon\n                        id=\"dynamictableActionIcon\"\n                        class=\"action-icons\"\n                        [ngClass]=\"{\n                          'red-text':\n                            action.title === 'Delete' ||\n                            action.title === 'Deactivate' ||\n                            action.title === 'Archive'\n                        }\"\n                        *ngIf=\"action.icon\"\n                        >{{ action.icon }}</mat-icon\n                      >\n                      <span\n                        id=\"dynamictableActionTitle\"\n                        [ngClass]=\"{\n                          'red-text':\n                            action.title === 'Delete' ||\n                            action.title === 'Deactivate' ||\n                            action.title === 'Archive'\n                        }\"\n                        >{{ action.title }}</span\n                      >\n                    </button>\n                  </ng-container>\n                  <ng-container *ngIf=\"action.type === 'menu'\">\n                    <button\n                      id=\"dynamictableActionClick\"\n                      type=\"button\"\n                      mat-menu-item\n                      [matMenuTriggerFor]=\"nestedMenu\"\n                      *ngIf=\"\n                        !action.condition ||\n                        (action.condition && evaluateCondition(row, action))\n                      \"\n                    >\n                      <span id=\"dynamictableActionTitle\">{{\n                        action.title\n                      }}</span>\n                    </button>\n                    <mat-menu #nestedMenu=\"matMenu\">\n                      <button\n                        mat-menu-item\n                        *ngFor=\"let subMenu of action.menuValues\"\n                        (click)=\"onRowLevelActionClick(action, row, subMenu)\"\n                      >\n                        {{ subMenu }}\n                      </button>\n                    </mat-menu>\n                  </ng-container>\n                </ng-container>\n              </mat-menu>\n            </div>\n          </td>\n        </ng-container>\n        <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->\n        <ng-container matColumnDef=\"expandedDetail\">\n          <td\n            mat-cell\n            *matCellDef=\"let element\"\n            [attr.colspan]=\"columnsToDisplay.length\"\n          >\n            <div\n              class=\"example-element-detail\"\n              [@detailExpand]=\"\n                element == expandedElement ? 'expanded' : 'collapsed'\n              \"\n            >\n              <div class=\"example-element-diagram\">\n                <div\n                  id=\"dynamictableElementName\"\n                  class=\"example-element-position\"\n                >\n                  {{ element.name }}\n                </div>\n                <div\n                  id=\"dynamictableElementProgress\"\n                  class=\"example-element-symbol\"\n                >\n                  {{ element.progress }}\n                </div>\n                <div\n                  id=\"dynamictableElementExample\"\n                  class=\"example-element-name\"\n                >\n                  {{ element.fruit }}\n                </div>\n                <div id=\"dynamictableElementId\" class=\"example-element-weight\">\n                  {{ element.id }}\n                </div>\n              </div>\n              <div\n                id=\"dynamictableElementDesc\"\n                class=\"example-element-description\"\n              >\n                {{ element.name }}\n                <span class=\"example-element-description-attribution\">\n                  -- Wikipedia\n                </span>\n              </div>\n            </div>\n          </td>\n        </ng-container>\n        <tr\n          mat-header-row\n          *matHeaderRowDef=\"columnsToDisplay; sticky: true\"\n          class=\"headerRow\"\n        ></tr>\n        <tr\n          mat-row\n          *matRowDef=\"let row; columns: columnsToDisplay\"\n          [class.example-expanded-row]=\"expandedElement === row\"\n          (click)=\"\n            expandedElement = expandedElement === row ? null : row;\n            highlight(row)\n          \"\n          [ngClass]=\"{ highlight: selectedRowIndex == row?.id }\"\n        ></tr>\n        <tr\n          mat-row\n          *matRowDef=\"let row; columns: ['expandedDetail']; when: customWhen\"\n          class=\"example-detail-row\"\n        ></tr>\n      </table>\n      <div *ngIf=\"!dataSource.data.length\" class=\"noResultsContainer\">\n        <span id=\"dynamictableNoDataFound\" class=\"noSearchResultsText\">\n          {{\n            configOptions?.noDataText\n              ? configOptions?.noDataText\n              : 'No Data Found'\n          }}\n        </span>\n      </div>\n    </div>\n    <mat-paginator\n      *ngIf=\"configOptions.enablePagination\"\n      [pageSizeOptions]=\"[10, 25, 50, 75, 100]\"\n      aria-label=\"Select Page\"\n    ></mat-paginator>\n  </div>\n</div>\n", styles: ["table{width:100%}.dynamictable{box-shadow:none!important}.button-span,.mat-button-span{width:100%}.mat-button-span ::ng-deep .mat-button-toggle{margin-right:5px;border:1px solid #ccc;align-items:center;width:35px;height:35px}.mat-button-span ::ng-deep .mat-button-toggle-group-appearance-standard{border-radius:1px;border:none}.mat-button-span ::ng-deep .mat-button-toggle-label-content{line-height:34px;padding:0!important}.mat-button-span .approve-btn{background-color:#fff!important;color:#34c759!important;border-radius:4px}.mat-button-span .approve-btn:hover{background-color:#34c759!important;color:#fff!important}.mat-button-span .reject-btn{background-color:#fff!important;color:#f6685e!important;border-radius:4px}.mat-button-span .reject-btn:hover{background-color:#f6685e!important;color:#fff!important}.noResultsContainer{width:100%;height:50vh;display:flex;align-items:center;justify-content:center;background:#fff}.noResultsContainer .noSearchResultsText{font-weight:400;color:#000;opacity:.5;font-size:150%}.mat-form-field{font-size:14px;width:100%}tr.example-detail-row{height:0!important;background:#f2f2f2}tr.example-detail-row:hover{background:none!important;cursor:auto!important}tr.example-element-row:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.example-element-row td{border-bottom-width:0}.example-element-detail{overflow:hidden;display:flex;background:#f2f2f2}.example-element-diagram{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.example-element-description{padding:16px}.example-element-description-attribution{opacity:.5}.headerRow{background:rgb(239,242,255)!important}.headerCell{display:flex;align-items:center;justify-content:space-between}.headerCellLabel{padding-left:5px;text-align:left;justify-content:space-between;align-items:center;align-content:center}button.mat-menu-item{width:100%;line-height:25px!important;height:35px!important;font-size:small}th.mat-header-cell{padding-left:10px;font-weight:500;color:#000;font-size:14px;font-family:Roboto;border-top:.5px solid #d8d8d8}th.mat-header-cell:last-child{border-right:.5px solid #d8d8d8}td.mat-cell{padding-left:16px;padding-right:16px!important}tr.mat-row{border:0px!important;cursor:pointer}tr.mat-row:hover{background:#f2f2f2}tr.mat-footer-row{border:1px solid #f2f2f2!important}.mat-paginator{display:block;height:50px!important;background:#f2f2f2}.tableFilterRow{align-items:center;justify-content:space-between}.searchbar{width:45%}::ng-deep .mat-form-field-wrapper{padding-bottom:0!important}.root{background:#f2f2f2}.rowselect-checkbox{padding-left:24px;padding-right:24px;width:2%;background:#eff2ff}.action-icons-display-flex{justify-content:flex-end;display:flex}.actions-column{min-width:20px!important;width:20px!important;text-align:right;padding-right:10px!important;padding-left:10px!important}.tableMainContent{background:#fff;border-left:.6px solid #b0b0b0}.tableMain{background:#fff;overflow:auto!important}.tableMain ::ng-deep .mat-sort-header-container{display:block!important}.tableMain ::ng-deep .mat-sort-header-content{display:block!important}.tableFullWidth{border-left:none!important}.leftPanel{padding:10px;width:20%;height:100%}.menu-content{height:inherit;width:inherit;background:lightgoldenrodyellow;padding:10px;margin:10px}.columnConfigListItem{font-size:10pt;height:25px!important}:host ::ng-deep .mat-sort-header-arrow{display:none!important}.table-column{min-width:140px}.mat-menu-button{width:150px}.action-icons{margin-top:2px;margin-right:5px!important;font-size:20px}.mat-table{display:block;width:100%;overflow:auto;max-height:95vh}.displayFlex{display:flex;align-items:center}.red-text{color:#f6685e}.more-actions{width:30px;height:30px;line-height:30px}.table-buttons{background-color:#fff;border:1px solid #3d5afe;color:#3d5afe;width:100%}.slide-toggle ::ng-deep .mat-slide-toggle-bar{width:36px;height:20px!important;border-radius:25px!important}.slide-toggle ::ng-deep .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#34c759!important}.slide-toggle ::ng-deep .mat-slide-toggle-thumb-container{top:2px!important;left:3px!important}.slide-toggle ::ng-deep .mat-slide-toggle-thumb{height:15px!important;width:15px!important}.slide-toggle ::ng-deep .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#fff!important}.space-between{display:flex;justify-content:space-between}.highlight{background:whitesmoke}.date-picker{display:flex;justify-content:space-between}.date-picker ::ng-deep .mat-form-field-appearance-outline .mat-form-field-outline{color:transparent!important}.date-picker ::ng-deep .mat-form-field-appearance-outline .mat-form-field-flex{padding:0!important}.date-picker ::ng-deep .mat-form-field-infix{width:100%!important}.date-picker mat-icon{font-size:30px;line-height:63px;color:#0000008a}.width-100{width:100%}.dropdown{display:flex;justify-content:space-between;align-items:center}.dropdown .select-text{color:#9e9e9e}.dropdown .arrow{float:right}.dropdown mat-icon{font-size:30px;line-height:35px;color:#0000008a}::ng-deep .mat-menu-submenu-icon{display:none!important}.disabled{background-color:#e0e0e0}.not-disabled{background-color:#fff}.table-column .mat-tooltip-parent{display:flex;align-items:center}.table-column ::ng-deep .mat-tooltip-panel-above .mat-tooltip{overflow:visible;margin-bottom:8px}.table-column ::ng-deep .mat-tooltip-panel-above .mat-tooltip:before{content:\"\";display:block;position:absolute;top:100%;border-style:solid;border-color:rgba(97,97,97,.9) transparent transparent transparent;border-width:6px;left:calc(50% - 6px)}\n"], components: [{ type: i4.TableFilterPanelComponent, selector: "cwp-table-filter-panel", inputs: ["configOptions"] }, { type: i5.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { type: i6.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex", "aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { type: i7.MatSortHeader, selector: "[mat-sort-header]", inputs: ["disabled", "mat-sort-header", "arrowPosition", "start", "sortActionDescription", "disableClear"], exportAs: ["matSortHeader"] }, { type: i8.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i9.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i10.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { type: i10.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { type: i11.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["disabled", "disableRipple", "color", "tabIndex", "name", "id", "labelPosition", "aria-label", "aria-labelledby", "aria-describedby", "required", "checked"], outputs: ["change", "toggleChange"], exportAs: ["matSlideToggle"] }, { type: i12.MatButtonToggle, selector: "mat-button-toggle", inputs: ["disableRipple", "aria-label", "aria-labelledby", "id", "name", "value", "tabIndex", "appearance", "checked", "disabled"], outputs: ["change"], exportAs: ["matButtonToggle"] }, { type: i5.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { type: i5.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }, { type: i13.MatPaginator, selector: "mat-paginator", inputs: ["disabled"], exportAs: ["matPaginator"] }], directives: [{ type: i14.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i14.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i7.MatSort, selector: "[matSort]", inputs: ["matSortDisabled", "matSortActive", "matSortStart", "matSortDirection", "matSortDisableClear"], outputs: ["matSortChange"], exportAs: ["matSort"] }, { type: i15.CdkDropList, selector: "[cdkDropList], cdk-drop-list", inputs: ["cdkDropListConnectedTo", "cdkDropListData", "cdkDropListOrientation", "id", "cdkDropListLockAxis", "cdkDropListDisabled", "cdkDropListSortingDisabled", "cdkDropListEnterPredicate", "cdkDropListSortPredicate", "cdkDropListAutoScrollDisabled", "cdkDropListAutoScrollStep"], outputs: ["cdkDropListDropped", "cdkDropListEntered", "cdkDropListExited", "cdkDropListSorted"], exportAs: ["cdkDropList"] }, { type: i14.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i5.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { type: i5.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { type: i5.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { type: i5.MatCellDef, selector: "[matCellDef]" }, { type: i5.MatCell, selector: "mat-cell, td[mat-cell]" }, { type: i14.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i15.CdkDrag, selector: "[cdkDrag]", inputs: ["cdkDragData", "cdkDragLockAxis", "cdkDragRootElement", "cdkDragBoundary", "cdkDragStartDelay", "cdkDragFreeDragPosition", "cdkDragDisabled", "cdkDragConstrainPosition", "cdkDragPreviewClass", "cdkDragPreviewContainer"], outputs: ["cdkDragStarted", "cdkDragReleased", "cdkDragEnded", "cdkDragEntered", "cdkDragExited", "cdkDragDropped", "cdkDragMoved"], exportAs: ["cdkDrag"] }, { type: i10.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { type: i16.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i12.MatButtonToggleGroup, selector: "mat-button-toggle-group", inputs: ["appearance", "name", "vertical", "value", "multiple", "disabled"], outputs: ["valueChange", "change"], exportAs: ["matButtonToggleGroup"] }, { type: i10.MatMenuContent, selector: "ng-template[matMenuContent]" }, { type: i5.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { type: i5.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }], pipes: { "dynamicTypePipe": i17.DynamicTypePipe }, animations: [
        trigger('detailExpand', [
            state('collapsed', style({ height: '0px', minHeight: '0' })),
            state('expanded', style({ height: '*' })),
            transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)'))
        ])
    ] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DynamictableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cwp-dynamictable', animations: [
                        trigger('detailExpand', [
                            state('collapsed', style({ height: '0px', minHeight: '0' })),
                            state('expanded', style({ height: '*' })),
                            transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)'))
                        ])
                    ], template: "<div>\n  <div class=\"leftPanel\" *ngIf=\"configOptions.displayFilterPanel\">\n    <cwp-table-filter-panel\n      [configOptions]=\"configOptions\"\n      (eventsHandler)=\"handleEvent($event)\"\n    ></cwp-table-filter-panel>\n  </div>\n  <div\n    [ngClass]=\"\n      configOptions.displayFilterPanel ? 'tableMainContent' : 'tableFullWidth'\n    \"\n  >\n    <div class=\"tableMain\" id=\"tableMain\" (scroll)=\"onTableScroll($event)\">\n      <table\n        id=\"matTableMain\"\n        mat-table\n        class=\"mat-elevation-z0 dynamictable\"\n        [dataSource]=\"dataSource\"\n        matSort\n        multiTemplateDataRows\n        cdkDropList\n        [ngStyle]=\"{\n          width: configOptions.tableWidth,\n          'max-height': configOptions.tableHeight\n        }\"\n        cdkDropListOrientation=\"horizontal\"\n        (cdkDropListDropped)=\"drop($event)\"\n        (scroll)=\"onTableScroll($event)\"\n      >\n        <!-- Checkbox Column -->\n        <ng-container\n          matColumnDef=\"selected\"\n          *ngIf=\"configOptions.enableRowsSelection\"\n        >\n          <th mat-header-cell *matHeaderCellDef class=\"w-50 rowselect-checkbox\">\n            <mat-checkbox\n              (change)=\"$event ? masterToggle() : null\"\n              [checked]=\"selection.hasValue() && isAllSelected()\"\n              [indeterminate]=\"selection.hasValue() && !isAllSelected()\"\n              [aria-label]=\"checkboxLabel()\"\n            >\n            </mat-checkbox>\n          </th>\n          <td mat-cell *matCellDef=\"let row\" class=\"w-50\">\n            <mat-checkbox\n              [disabled]=\"\n                configOptions.enableRowsSelection &&\n                !evaluateCondition(row, configOptions.enableRowLevelActions)\n              \"\n              (click)=\"$event.stopPropagation()\"\n              (change)=\"$event ? toggleRowSelect(row) : null\"\n              [checked]=\"\n                configOptions.enableRowsSelection &&\n                evaluateCondition(row, configOptions.enableRowLevelActions) &&\n                selection.isSelected(row)\n              \"\n              [aria-label]=\"checkboxLabel(row)\"\n            >\n            </mat-checkbox>\n          </td>\n        </ng-container>\n        <!-- Other Dynamic Columns -->\n        <ng-container\n          [matColumnDef]=\"column.id\"\n          [sticky]=\"isSticky(stickyColumns, column.id)\"\n          [stickyEnd]=\"isStickyEnd(stickyEndColumns, column.id)\"\n          *ngFor=\"let column of displayedColumns\"\n        >\n          <th\n            mat-header-cell\n            cdkDrag\n            [cdkDragDisabled]=\"!column.movable\"\n            *matHeaderCellDef\n            class=\"tableHeaderCell table-column\"\n            [disableClear]=\"true\"\n            mat-sort-header\n            [disabled]=\"!column.sortable\"\n          >\n            <!-- <th mat-header-cell cdkDrag [cdkDragDisabled]=\"column.disabled\" *matHeaderCellDef class=\"tableHeaderCell\"> -->\n            <div class=\"headerCell\">\n              <div id=\"dynamictableHeadCellName\" class=\"headerCellLabel\">\n                {{ column.displayName }}\n                <span *ngIf=\"column.sortable === true\">\n                  <span\n                    id=\"dynamictableSortAsc\"\n                    *ngIf=\"\n                      sort &&\n                      sort.active === column.id &&\n                      sort.direction == 'asc'\n                    \"\n                  >\n                    &#8593;\n                  </span>\n                  <span\n                    id=\"dynamictableSortDesc\"\n                    *ngIf=\"\n                      sort &&\n                      sort.active === column.id &&\n                      sort.direction == 'desc'\n                    \"\n                  >\n                    &#8595;\n                  </span>\n                  <span *ngIf=\"sort && sort.active !== column.id\">&#8645;</span>\n                </span>\n              </div>\n              <div class=\"headerCellActions\" (click)=\"$event.stopPropagation()\">\n                <button\n                  id=\"dynamictableMoreOption\"\n                  type=\"button\"\n                  mat-icon-button\n                  [matMenuTriggerFor]=\"menu\"\n                  *ngIf=\"column.showMenuOptions\"\n                  aria-label=\"icon-button with a menu\"\n                  (click)=\"$event.stopPropagation()\"\n                  aria-label=\"More Options\"\n                >\n                  <mat-icon>more_horiz</mat-icon>\n                </button>\n                <mat-menu #menu=\"matMenu\" xPosition=\"before\">\n                  <button\n                    id=\"dynamictableHideCol\"\n                    type=\"button\"\n                    mat-menu-item\n                    (click)=\"hideColumn(column.id)\"\n                    *ngIf=\"column.hideable\"\n                  >\n                    Hide Column\n                  </button>\n                  <button\n                    id=\"dynamictableMoveLeft\"\n                    type=\"button\"\n                    mat-menu-item\n                    *ngIf=\"column.movable\"\n                    (click)=\"moveLeft(column.id)\"\n                  >\n                    Move Left\n                  </button>\n                  <button\n                    id=\"dynamictableMoveRight\"\n                    type=\"button\"\n                    mat-menu-item\n                    *ngIf=\"column.movable\"\n                    (click)=\"moveRight(column.id)\"\n                  >\n                    Move Right\n                  </button>\n                  <button\n                    id=\"dynamictableStick\"\n                    type=\"button\"\n                    mat-menu-item\n                    (click)=\"stick(column.id)\"\n                    *ngIf=\"\n                      !isSticky(stickyColumns, column.id) && column.stickable\n                    \"\n                  >\n                    Stick\n                  </button>\n                  <!-- <button\n                    mat-menu-item\n                    (click)=\"stickToEnd(column.id)\"\n                    *ngIf=\"!isStickyEnd(stickyColumns, column.id)\"\n                  >\n                    Stick to End\n                  </button> -->\n                  <button\n                    id=\"dynamictableColStickable\"\n                    type=\"button\"\n                    mat-menu-item\n                    (click)=\"unstick(column.id)\"\n                    *ngIf=\"\n                      (isSticky(stickyColumns, column.id) ||\n                        isStickyEnd(stickyEndColumns, column.id)) &&\n                      column.stickable\n                    \"\n                  >\n                    Un-stick\n                  </button>\n                  <button\n                    id=\"dynamictableAddGroup\"\n                    type=\"button\"\n                    mat-menu-item\n                    *ngIf=\"\n                      column.visible &&\n                      column.groupable &&\n                      !isGrouped(column.id)\n                    \"\n                    [disabled]=\"this.configOptions.groupByColumns.length >= 3\"\n                    (click)=\"addGroup(column, $event)\"\n                  >\n                    Group Rows by this Column\n                  </button>\n                  <button\n                    id=\"dynamictableRemoveGroup\"\n                    type=\"button\"\n                    mat-menu-item\n                    *ngIf=\"\n                      column.visible && column.groupable && isGrouped(column.id)\n                    \"\n                    (click)=\"removeGroup(column, $event)\"\n                  >\n                    Un-group this Column\n                  </button>\n                </mat-menu>\n              </div>\n            </div>\n          </th>\n          <!-- <td _ngcontent-pqd-c296=\"\" role=\"cell\" mat-cell=\"\" class=\"mat-cell cdk-cell cdk-column-name mat-column-name ng-tns-c296-0 ng-star-inserted\">\n            </td>\n         -->\n          <td\n            mat-cell\n            *matCellDef=\"let element; let i = dataIndex\"\n            [ngStyle]=\"evaluateExpression(element, column)\"\n            [attr.rowspan]=\"getRowSpan(column.id, i)\"\n            [style.display]=\"getRowSpan(column.id, i) ? '' : 'none'\"\n            class=\"table-column\"\n            (click)=\"onCellClick(element, column.id, column.controlType)\"\n            id=\"{{ column.id }}\"\n          >\n            <div\n              class=\"displayFlex\"\n              *ngIf=\"column && element\"\n              [ngClass]=\"{\n                disabled:\n                  element[column.controlValue?.dependentFieldId] === true &&\n                  column.controlValue.disableBackground === true,\n                'not-disabled':\n                  element[column.controlValue?.dependentFieldId] === false &&\n                  column.controlValue.disableBackground === true\n              }\"\n            >\n              <!-- <span\n                *ngIf=\"\n                  column.hasPreTextImage &&\n                  element.preTextImageConfig &&\n                  element.preTextImageConfig.logoAvialable === false\n                \"\n                [ngStyle]=\"element.preTextImageConfig.style\"\n              >\n                <avatar [text]=\"element.name\"></avatar>\n              </span> -->\n\n              <img\n                id=\"dynamictableImg\"\n                [src]=\"element.preTextImage.image\"\n                [ngStyle]=\"element.preTextImage.style\"\n                *ngIf=\"\n                  column.hasPreTextImage &&\n                  element.preTextImage &&\n                  element.preTextImage.image &&\n                  element.preTextImage.condition &&\n                  evaluateCondition(element, element.preTextImage)\n                \"\n                alt=\"Pre Image\"\n              />\n              <span\n                *ngIf=\"column.controlType === 'string'\"\n                [ngClass]=\"column?.hasMatToolTip ? 'mat-tooltip-parent' : ''\"\n              >\n                <span\n                  id=\"dynamictableColType\"\n                  *ngIf=\"!isArray(element[column.id])\"\n                  [ngStyle]=\"\n                    getConditionalStyles(column.titleStyle, element, column)\n                  \"\n                  (click)=\"onCellClick(element, column.id, column.controlType)\"\n                  #tooltip=\"matTooltip\"\n                  matTooltip=\"{{ element[column.id] }}\"\n                  matTooltipPosition=\"above\"\n                  [matTooltipDisabled]=\"!column.hasMatToolTip\"\n                >\n                  {{ element[column.id] | dynamicTypePipe : column.type }}\n                  <span\n                    *ngIf=\"column.hasRightElement\"\n                    id=\"dynamictableRightElement\"\n                    [innerHTML]=\"element.rightElement\"\n                  >\n                  </span>\n                </span>\n                <span\n                  *ngIf=\"isArray(element[column.id])\"\n                  [ngStyle]=\"column.titleStyle\"\n                >\n                  <span\n                    id=\"dynamictableItem\"\n                    *ngFor=\"let item of element[column.id]; last as isLast\"\n                    (click)=\"onCellClick(element, column.id, item)\"\n                  >\n                    {{ item }}<span *ngIf=\"!isLast\">, </span></span\n                  > </span\n                ><br />\n                <span\n                  id=\"dynamictableSubtitle\"\n                  *ngIf=\"column.hasSubtitle\"\n                  [ngStyle]=\"\n                    element[column.subtitleColumn] !== ''\n                      ? column.subtitleStyle\n                      : ''\n                  \"\n                >\n                  {{\n                    element[column.subtitleColumn]\n                      | dynamicTypePipe : column.type\n                  }}\n                </span>\n                <span\n                  *ngIf=\"column.hasBelowElement\"\n                  id=\"dynamictableSubtitleElement\"\n                >\n                  <br />\n                  <span [innerHTML]=\"element.belowElement\"></span>\n                </span>\n              </span>\n\n              <span *ngIf=\"column.controlType === 'slide-toggle'\">\n                <span class=\"slide-toggle\">\n                  <mat-slide-toggle\n                    [checked]=\"element[column.id]\"\n                    (change)=\"onToggleChange($event)\"\n                  ></mat-slide-toggle>\n                </span>\n              </span>\n\n              <span *ngIf=\"column.controlType === 'html'\">\n                <span [innerHTML]=\"element[column.id]\"></span>\n              </span>\n\n              <span *ngIf=\"column.controlType === 'button'\" class=\"button-span\">\n                <button\n                  id=\"dynamictableColValue\"\n                  type=\"button\"\n                  mat-stroked-button\n                  class=\"table-buttons\"\n                  *ngIf=\"!element[column.id]; else freeText\"\n                >\n                  {{ column.controlValue }}\n                </button>\n                <ng-template #freeText>\n                  <span id=\"dynamictableColId\">\n                    {{ element[column.id] }}\n                  </span>\n                </ng-template>\n              </span>\n\n              <span\n                *ngIf=\"column.controlType === 'button-toggle'\"\n                class=\"mat-button-span\"\n              >\n                <span\n                  *ngIf=\"column?.controlValue.length && !element[column.id]\"\n                >\n                  <ng-container *ngFor=\"let button of column?.controlValue\">\n                    <mat-button-toggle-group\n                      #group=\"matButtonToggleGroup\"\n                      (change)=\"onValChange(element, group.value)\"\n                    >\n                      <mat-button-toggle\n                        [value]=\"button.value\"\n                        class=\"{{ button.class }}\"\n                      >\n                        <mat-icon *ngIf=\"button.isIcon\">\n                          {{ button.iconName }}\n                        </mat-icon>\n                      </mat-button-toggle>\n                    </mat-button-toggle-group>\n                  </ng-container>\n                </span>\n                <span id=\"dynamictableColId\" *ngIf=\"element[column.id]\">\n                  {{ element[column.id] }}\n                </span>\n              </span>\n\n              <span *ngIf=\"column.controlType === 'menu'\" class=\"button-span\">\n                <button\n                  mat-stroked-button\n                  class=\"table-buttons\"\n                  [matMenuTriggerFor]=\"menu\"\n                  *ngIf=\"!element[column.id]; else freeText\"\n                >\n                  {{ column.controlValue['buttonName'] }}\n                </button>\n                <mat-menu #menu=\"matMenu\">\n                  <ng-template matMenuContent>\n                    <button\n                      mat-menu-item\n                      (click)=\"onMenuButtonClick(element, column.id, btn)\"\n                      *ngFor=\"let btn of column.controlValue['menuButtonNames']\"\n                      class=\"mat-menu-button\"\n                    >\n                      {{ btn }}\n                    </button>\n                  </ng-template>\n                </mat-menu>\n                <ng-template #freeText>\n                  <span>\n                    {{ element[column.id] }}\n                  </span>\n                </ng-template>\n              </span>\n\n              <span *ngIf=\"column.controlType === 'space-between'\">\n                <span class=\"space-between\" [ngStyle]=\"column.titleStyle\">\n                  <div\n                    *ngFor=\"\n                      let value of getDisplayValues(\n                        element[column.id],\n                        column.controlValue\n                      )\n                    \"\n                  >\n                    {{ value }}\n                  </div>\n                </span>\n              </span>\n\n              <span\n                *ngIf=\"column.controlType === 'dropdown'\"\n                [id]=\"element.id\"\n                class=\"width-100\"\n              >\n                <span\n                  class=\"dropdown\"\n                  *ngIf=\"\n                    getDisplayType(element, column, column.controlValue) ===\n                    'dropdown'\n                  \"\n                >\n                  <span\n                    id=\"dynamictableDropDown\"\n                    *ngIf=\"element[column.id] !== undefined\"\n                    class=\"dropdown-value\"\n                  >\n                    {{ element[column.id] }}\n                  </span>\n                  <span\n                    id=\"dynamictableSelect\"\n                    *ngIf=\"element[column.id] === undefined\"\n                    class=\"select-text\"\n                  >\n                    Select\n                  </span>\n                  <span class=\"arrow\">\n                    <mat-icon>arrow_drop_down</mat-icon>\n                  </span>\n                </span>\n                <span\n                  id=\"dynamictableText\"\n                  *ngIf=\"\n                    getDisplayType(element, column, column.controlValue) ===\n                    'text'\n                  \"\n                >\n                  {{ element[column.id] }}\n                </span>\n              </span>\n\n              <!-- <span\n                *ngIf=\"\n                  column.hasPostTextImage &&\n                  element.postTextImageConfig &&\n                  element.postTextImageConfig.logoAvialable === false\n                \"\n                [ngStyle]=\"element.postTextImageConfig.style\"\n              >\n                <avatar [text]=\"element.name\"></avatar>\n              </span> -->\n\n              <img\n                [src]=\"element.postTextImage.image\"\n                [ngStyle]=\"element.postTextImage.style\"\n                *ngIf=\"\n                  column.hasPostTextImage &&\n                  element.postTextImage &&\n                  element.postTextImage.image &&\n                  element.postTextImage.condition &&\n                  evaluateCondition(element, element.postTextImage)\n                \"\n                alt=\"Post Image\"\n              />\n            </div>\n          </td>\n        </ng-container>\n        <ng-container\n          matColumnDef=\"actions\"\n          [stickyEnd]=\"true\"\n          *ngIf=\"configOptions.displayActionsColumn\"\n        >\n          <th\n            id=\"dynamictableAction\"\n            mat-header-cell\n            *matHeaderCellDef\n            class=\"w-50 actions-column tableHeaderCell table-column\"\n          >\n            Actions\n          </th>\n          <td mat-cell *matCellDef=\"let row\">\n            <div class=\"action-icons-display-flex\">\n              <ng-container\n                *ngIf=\"configOptions.rowLevelActions.iconAction; let iconAction\"\n              >\n                <button\n                  id=\"dynamictableRowLevelAction\"\n                  type=\"button\"\n                  mat-icon-button\n                  class=\"more-actions\"\n                  (click)=\"onRowLevelActionIconClick(iconAction, row)\"\n                  aria-label=\"Row Level Action\"\n                >\n                  <mat-icon\n                    id=\"dynamictableIconToggleOn\"\n                    *ngIf=\"row[iconAction.property]\"\n                    [ngStyle]=\"iconAction.styleToggleOn\"\n                    (click)=\"onRowLevelActionIconClick(iconAction, row)\"\n                    class=\"action-icons\"\n                    >{{ iconAction.iconToggleOn }}\n                  </mat-icon>\n                  <mat-icon\n                    id=\"dynamictableToggleOff\"\n                    *ngIf=\"!row[iconAction.property]\"\n                    [ngStyle]=\"iconAction.styleToggleOff\"\n                    (click)=\"onRowLevelActionIconClick(iconAction, row)\"\n                    class=\"action-icons\"\n                    >{{ iconAction.iconToggleOff }}</mat-icon\n                  >\n                </button>\n              </ng-container>\n              <button\n                id=\"dynamictableActionMenu\"\n                type=\"button\"\n                mat-icon-button\n                [matMenuTriggerFor]=\"actionsMenu\"\n                class=\"more-actions\"\n                [disabled]=\"\n                  !evaluateCondition(row, configOptions.enableRowLevelActions)\n                \"\n                aria-label=\"More Options\"\n              >\n                <mat-icon id=\"dynamictableMoreIcon\">more_horiz</mat-icon>\n              </button>\n              <mat-menu #actionsMenu=\"matMenu\">\n                <ng-container\n                  *ngFor=\"\n                    let action of configOptions.rowLevelActions.menuActions\n                  \"\n                >\n                  <ng-container *ngIf=\"action.type !== 'menu'\">\n                    <button\n                      id=\"dynamictableActionClick\"\n                      type=\"button\"\n                      mat-menu-item\n                      *ngIf=\"\n                        !action.condition ||\n                        (action.condition && evaluateCondition(row, action))\n                      \"\n                      (click)=\"onRowLevelActionClick(action, row)\"\n                    >\n                      <mat-icon\n                        id=\"dynamictableActionIcon\"\n                        class=\"action-icons\"\n                        [ngClass]=\"{\n                          'red-text':\n                            action.title === 'Delete' ||\n                            action.title === 'Deactivate' ||\n                            action.title === 'Archive'\n                        }\"\n                        *ngIf=\"action.icon\"\n                        >{{ action.icon }}</mat-icon\n                      >\n                      <span\n                        id=\"dynamictableActionTitle\"\n                        [ngClass]=\"{\n                          'red-text':\n                            action.title === 'Delete' ||\n                            action.title === 'Deactivate' ||\n                            action.title === 'Archive'\n                        }\"\n                        >{{ action.title }}</span\n                      >\n                    </button>\n                  </ng-container>\n                  <ng-container *ngIf=\"action.type === 'menu'\">\n                    <button\n                      id=\"dynamictableActionClick\"\n                      type=\"button\"\n                      mat-menu-item\n                      [matMenuTriggerFor]=\"nestedMenu\"\n                      *ngIf=\"\n                        !action.condition ||\n                        (action.condition && evaluateCondition(row, action))\n                      \"\n                    >\n                      <span id=\"dynamictableActionTitle\">{{\n                        action.title\n                      }}</span>\n                    </button>\n                    <mat-menu #nestedMenu=\"matMenu\">\n                      <button\n                        mat-menu-item\n                        *ngFor=\"let subMenu of action.menuValues\"\n                        (click)=\"onRowLevelActionClick(action, row, subMenu)\"\n                      >\n                        {{ subMenu }}\n                      </button>\n                    </mat-menu>\n                  </ng-container>\n                </ng-container>\n              </mat-menu>\n            </div>\n          </td>\n        </ng-container>\n        <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->\n        <ng-container matColumnDef=\"expandedDetail\">\n          <td\n            mat-cell\n            *matCellDef=\"let element\"\n            [attr.colspan]=\"columnsToDisplay.length\"\n          >\n            <div\n              class=\"example-element-detail\"\n              [@detailExpand]=\"\n                element == expandedElement ? 'expanded' : 'collapsed'\n              \"\n            >\n              <div class=\"example-element-diagram\">\n                <div\n                  id=\"dynamictableElementName\"\n                  class=\"example-element-position\"\n                >\n                  {{ element.name }}\n                </div>\n                <div\n                  id=\"dynamictableElementProgress\"\n                  class=\"example-element-symbol\"\n                >\n                  {{ element.progress }}\n                </div>\n                <div\n                  id=\"dynamictableElementExample\"\n                  class=\"example-element-name\"\n                >\n                  {{ element.fruit }}\n                </div>\n                <div id=\"dynamictableElementId\" class=\"example-element-weight\">\n                  {{ element.id }}\n                </div>\n              </div>\n              <div\n                id=\"dynamictableElementDesc\"\n                class=\"example-element-description\"\n              >\n                {{ element.name }}\n                <span class=\"example-element-description-attribution\">\n                  -- Wikipedia\n                </span>\n              </div>\n            </div>\n          </td>\n        </ng-container>\n        <tr\n          mat-header-row\n          *matHeaderRowDef=\"columnsToDisplay; sticky: true\"\n          class=\"headerRow\"\n        ></tr>\n        <tr\n          mat-row\n          *matRowDef=\"let row; columns: columnsToDisplay\"\n          [class.example-expanded-row]=\"expandedElement === row\"\n          (click)=\"\n            expandedElement = expandedElement === row ? null : row;\n            highlight(row)\n          \"\n          [ngClass]=\"{ highlight: selectedRowIndex == row?.id }\"\n        ></tr>\n        <tr\n          mat-row\n          *matRowDef=\"let row; columns: ['expandedDetail']; when: customWhen\"\n          class=\"example-detail-row\"\n        ></tr>\n      </table>\n      <div *ngIf=\"!dataSource.data.length\" class=\"noResultsContainer\">\n        <span id=\"dynamictableNoDataFound\" class=\"noSearchResultsText\">\n          {{\n            configOptions?.noDataText\n              ? configOptions?.noDataText\n              : 'No Data Found'\n          }}\n        </span>\n      </div>\n    </div>\n    <mat-paginator\n      *ngIf=\"configOptions.enablePagination\"\n      [pageSizeOptions]=\"[10, 25, 50, 75, 100]\"\n      aria-label=\"Select Page\"\n    ></mat-paginator>\n  </div>\n</div>\n", styles: ["table{width:100%}.dynamictable{box-shadow:none!important}.button-span,.mat-button-span{width:100%}.mat-button-span ::ng-deep .mat-button-toggle{margin-right:5px;border:1px solid #ccc;align-items:center;width:35px;height:35px}.mat-button-span ::ng-deep .mat-button-toggle-group-appearance-standard{border-radius:1px;border:none}.mat-button-span ::ng-deep .mat-button-toggle-label-content{line-height:34px;padding:0!important}.mat-button-span .approve-btn{background-color:#fff!important;color:#34c759!important;border-radius:4px}.mat-button-span .approve-btn:hover{background-color:#34c759!important;color:#fff!important}.mat-button-span .reject-btn{background-color:#fff!important;color:#f6685e!important;border-radius:4px}.mat-button-span .reject-btn:hover{background-color:#f6685e!important;color:#fff!important}.noResultsContainer{width:100%;height:50vh;display:flex;align-items:center;justify-content:center;background:#fff}.noResultsContainer .noSearchResultsText{font-weight:400;color:#000;opacity:.5;font-size:150%}.mat-form-field{font-size:14px;width:100%}tr.example-detail-row{height:0!important;background:#f2f2f2}tr.example-detail-row:hover{background:none!important;cursor:auto!important}tr.example-element-row:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.example-element-row td{border-bottom-width:0}.example-element-detail{overflow:hidden;display:flex;background:#f2f2f2}.example-element-diagram{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.example-element-description{padding:16px}.example-element-description-attribution{opacity:.5}.headerRow{background:rgb(239,242,255)!important}.headerCell{display:flex;align-items:center;justify-content:space-between}.headerCellLabel{padding-left:5px;text-align:left;justify-content:space-between;align-items:center;align-content:center}button.mat-menu-item{width:100%;line-height:25px!important;height:35px!important;font-size:small}th.mat-header-cell{padding-left:10px;font-weight:500;color:#000;font-size:14px;font-family:Roboto;border-top:.5px solid #d8d8d8}th.mat-header-cell:last-child{border-right:.5px solid #d8d8d8}td.mat-cell{padding-left:16px;padding-right:16px!important}tr.mat-row{border:0px!important;cursor:pointer}tr.mat-row:hover{background:#f2f2f2}tr.mat-footer-row{border:1px solid #f2f2f2!important}.mat-paginator{display:block;height:50px!important;background:#f2f2f2}.tableFilterRow{align-items:center;justify-content:space-between}.searchbar{width:45%}::ng-deep .mat-form-field-wrapper{padding-bottom:0!important}.root{background:#f2f2f2}.rowselect-checkbox{padding-left:24px;padding-right:24px;width:2%;background:#eff2ff}.action-icons-display-flex{justify-content:flex-end;display:flex}.actions-column{min-width:20px!important;width:20px!important;text-align:right;padding-right:10px!important;padding-left:10px!important}.tableMainContent{background:#fff;border-left:.6px solid #b0b0b0}.tableMain{background:#fff;overflow:auto!important}.tableMain ::ng-deep .mat-sort-header-container{display:block!important}.tableMain ::ng-deep .mat-sort-header-content{display:block!important}.tableFullWidth{border-left:none!important}.leftPanel{padding:10px;width:20%;height:100%}.menu-content{height:inherit;width:inherit;background:lightgoldenrodyellow;padding:10px;margin:10px}.columnConfigListItem{font-size:10pt;height:25px!important}:host ::ng-deep .mat-sort-header-arrow{display:none!important}.table-column{min-width:140px}.mat-menu-button{width:150px}.action-icons{margin-top:2px;margin-right:5px!important;font-size:20px}.mat-table{display:block;width:100%;overflow:auto;max-height:95vh}.displayFlex{display:flex;align-items:center}.red-text{color:#f6685e}.more-actions{width:30px;height:30px;line-height:30px}.table-buttons{background-color:#fff;border:1px solid #3d5afe;color:#3d5afe;width:100%}.slide-toggle ::ng-deep .mat-slide-toggle-bar{width:36px;height:20px!important;border-radius:25px!important}.slide-toggle ::ng-deep .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#34c759!important}.slide-toggle ::ng-deep .mat-slide-toggle-thumb-container{top:2px!important;left:3px!important}.slide-toggle ::ng-deep .mat-slide-toggle-thumb{height:15px!important;width:15px!important}.slide-toggle ::ng-deep .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#fff!important}.space-between{display:flex;justify-content:space-between}.highlight{background:whitesmoke}.date-picker{display:flex;justify-content:space-between}.date-picker ::ng-deep .mat-form-field-appearance-outline .mat-form-field-outline{color:transparent!important}.date-picker ::ng-deep .mat-form-field-appearance-outline .mat-form-field-flex{padding:0!important}.date-picker ::ng-deep .mat-form-field-infix{width:100%!important}.date-picker mat-icon{font-size:30px;line-height:63px;color:#0000008a}.width-100{width:100%}.dropdown{display:flex;justify-content:space-between;align-items:center}.dropdown .select-text{color:#9e9e9e}.dropdown .arrow{float:right}.dropdown mat-icon{font-size:30px;line-height:35px;color:#0000008a}::ng-deep .mat-menu-submenu-icon{display:none!important}.disabled{background-color:#e0e0e0}.not-disabled{background-color:#fff}.table-column .mat-tooltip-parent{display:flex;align-items:center}.table-column ::ng-deep .mat-tooltip-panel-above .mat-tooltip{overflow:visible;margin-bottom:8px}.table-column ::ng-deep .mat-tooltip-panel-above .mat-tooltip:before{content:\"\";display:block;position:absolute;top:100%;border-style:solid;border-color:rgba(97,97,97,.9) transparent transparent transparent;border-width:6px;left:calc(50% - 6px)}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.MatSnackBar }, { type: i0.ChangeDetectorRef }, { type: i2.DynamictableFilterService }, { type: i3.DomSanitizer }, { type: i2.DynamictableScrollerService }]; }, propDecorators: { paginator: [{
                type: ViewChild,
                args: [MatPaginator]
            }], sort: [{
                type: ViewChild,
                args: [MatSort]
            }], configOptions: [{
                type: Input
            }], dataSource: [{
                type: Input
            }], fetchDataCallback: [{
                type: Output
            }], rowLevelActionHandler: [{
                type: Output
            }], cellClickActionHandler: [{
                type: Output
            }], onConfigOptionsChange: [{
                type: Output
            }], onToggleChangeHandler: [{
                type: Output
            }], onSelectButtonToggle: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pY3RhYmxlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2R5bmFtaWN0YWJsZS9zcmMvbGliL2R5bmFtaWN0YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9keW5hbWljdGFibGUvc3JjL2xpYi9keW5hbWljdGFibGUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUdMLFNBQVMsRUFDVCxZQUFZLEVBQ1osS0FBSyxFQUVMLE1BQU0sRUFDTixTQUFTLEVBR1YsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzNELE9BQU8sRUFBRSxPQUFPLEVBQWUsTUFBTSx3QkFBd0IsQ0FBQztBQUU5RCxPQUFPLEVBQ0wsT0FBTyxFQUNQLEtBQUssRUFDTCxLQUFLLEVBQ0wsVUFBVSxFQUNWLE9BQU8sRUFDUixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMxRCxPQUFPLEVBQWUsZUFBZSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFdEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBCeEMsTUFBTSxPQUFPLHFCQUFxQjtJQThEaEMsWUFDVSxTQUFzQixFQUN0QixrQkFBcUMsRUFDckMseUJBQW9ELEVBQ3BELFlBQTBCLEVBQzFCLDJCQUF3RDtRQUp4RCxjQUFTLEdBQVQsU0FBUyxDQUFhO1FBQ3RCLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBbUI7UUFDckMsOEJBQXlCLEdBQXpCLHlCQUF5QixDQUEyQjtRQUNwRCxpQkFBWSxHQUFaLFlBQVksQ0FBYztRQUMxQixnQ0FBMkIsR0FBM0IsMkJBQTJCLENBQTZCO1FBbEVsRSx1QkFBa0IsR0FBa0MsUUFB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Q0cscUJBQXFCO3NCQUE5QixNQUFNO2dCQUNHLHNCQUFzQjtzQkFBL0IsTUFBTTtnQkFDRyxxQkFBcUI7c0JBQTlCLE1BQU07Z0JBQ0cscUJBQXFCO3NCQUE5QixNQUFNO2dCQUNHLG9CQUFvQjtzQkFBN0IsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBWaWV3Q2hpbGQsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIE9uRGVzdHJveVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERvbVNhbml0aXplciB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuaW1wb3J0IHsgTWF0UGFnaW5hdG9yIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvcGFnaW5hdG9yJztcbmltcG9ydCB7IE1hdFNvcnQsIE1hdFNvcnRhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc29ydCc7XG5pbXBvcnQgeyBNYXRUYWJsZURhdGFTb3VyY2UgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC90YWJsZSc7XG5pbXBvcnQge1xuICBhbmltYXRlLFxuICBzdGF0ZSxcbiAgc3R5bGUsXG4gIHRyYW5zaXRpb24sXG4gIHRyaWdnZXJcbn0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQgeyBTZWxlY3Rpb25Nb2RlbCB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9jb2xsZWN0aW9ucyc7XG5pbXBvcnQgeyBDZGtEcmFnRHJvcCwgbW92ZUl0ZW1JbkFycmF5IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2RyYWctZHJvcCc7XG5pbXBvcnQgeyBDb2x1bW4sIENvbmZpZ09wdGlvbnMgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHtcbiAgRHluYW1pY3RhYmxlRmlsdGVyU2VydmljZSxcbiAgRHluYW1pY3RhYmxlU2Nyb2xsZXJTZXJ2aWNlXG59IGZyb20gJy4vZHluYW1pY3RhYmxlLnNlcnZpY2UnO1xuaW1wb3J0IHtcbiAgTWF0U25hY2tCYXIsXG4gIE1hdFNuYWNrQmFySG9yaXpvbnRhbFBvc2l0aW9uLFxuICBNYXRTbmFja0JhclZlcnRpY2FsUG9zaXRpb25cbn0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc25hY2stYmFyJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3dwLWR5bmFtaWN0YWJsZScsXG4gIHRlbXBsYXRlVXJsOiAnLi9keW5hbWljdGFibGUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9keW5hbWljdGFibGUuY29tcG9uZW50LnNjc3MnXSxcbiAgYW5pbWF0aW9uczogW1xuICAgIHRyaWdnZXIoJ2RldGFpbEV4cGFuZCcsIFtcbiAgICAgIHN0YXRlKCdjb2xsYXBzZWQnLCBzdHlsZSh7IGhlaWdodDogJzBweCcsIG1pbkhlaWdodDogJzAnIH0pKSxcbiAgICAgIHN0YXRlKCdleHBhbmRlZCcsIHN0eWxlKHsgaGVpZ2h0OiAnKicgfSkpLFxuICAgICAgdHJhbnNpdGlvbihcbiAgICAgICAgJ2V4cGFuZGVkIDw9PiBjb2xsYXBzZWQnLFxuICAgICAgICBhbmltYXRlKCcyMjVtcyBjdWJpYy1iZXppZXIoMC40LCAwLjAsIDAuMiwgMSknKVxuICAgICAgKVxuICAgIF0pXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgRHluYW1pY3RhYmxlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBob3Jpem9udGFsUG9zaXRpb246IE1hdFNuYWNrQmFySG9yaXpvbnRhbFBvc2l0aW9uID0gJ2NlbnRlcic7XG4gIHZlcnRpY2FsUG9zaXRpb246IE1hdFNuYWNrQmFyVmVydGljYWxQb3NpdGlvbiA9ICd0b3AnO1xuXG4gIHNwYW5zOiBhbnlbXSA9IFtdO1xuICBzZWxlY3RlZFJvd3M6IGFueVtdID0gW107XG5cbiAgZGlzcGxheWVkQ29sdW1uczogQ29sdW1uW107XG4gIGV4cGFuZGVkRWxlbWVudDogYW55IHwgbnVsbDtcbiAgY29sdW1uc1RvRGlzcGxheTogc3RyaW5nW107XG4gIG9wZW5lZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGxhc3RTY3JvbGxMZWZ0OiBudW1iZXIgPSAwO1xuXG4gIHN0aWNreUNvbHVtbnM6IHN0cmluZ1tdID0gW107XG4gIHN0aWNreUVuZENvbHVtbnM6IHN0cmluZ1tdID0gW107XG4gIHNlbGVjdGVkUm93SW5kZXggPSAtMTtcbiAgcmV2ZXJzZVNvcnRDb2x1bW5zOiBhbnkgPSB7fTtcbiAgc2VsZWN0aW9uOiBhbnk7XG5cbiAgQFZpZXdDaGlsZChNYXRQYWdpbmF0b3IpIHBhZ2luYXRvcjogTWF0UGFnaW5hdG9yO1xuICBAVmlld0NoaWxkKE1hdFNvcnQpIHNvcnQ6IE1hdFNvcnQ7XG5cbiAgQElucHV0KCkgc2V0IGNvbmZpZ09wdGlvbnMoY29uZmlnT3B0aW9uczogQ29uZmlnT3B0aW9ucykge1xuICAgIHRoaXMuX2NvbmZpZ09wdGlvbnMgPSBjb25maWdPcHRpb25zXG4gICAgICA/IHsgLi4uY29uZmlnT3B0aW9ucyB9XG4gICAgICA6ICh7fSBhcyBDb25maWdPcHRpb25zKTtcbiAgfVxuICBnZXQgY29uZmlnT3B0aW9ucygpOiBDb25maWdPcHRpb25zIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnT3B0aW9ucztcbiAgfVxuXG4gIEBJbnB1dCgpIHNldCBkYXRhU291cmNlKGRhdGFTb3VyY2U6IE1hdFRhYmxlRGF0YVNvdXJjZTxhbnk+KSB7XG4gICAgdGhpcy5fZGF0YVNvdXJjZSA9IGRhdGFTb3VyY2VcbiAgICAgID8gZGF0YVNvdXJjZVxuICAgICAgOiAoe30gYXMgTWF0VGFibGVEYXRhU291cmNlPGFueT4pO1xuICAgIHRoaXMuZGF0YVNvdXJjZS5wYWdpbmF0b3IgPSB0aGlzLnBhZ2luYXRvcjtcblxuICAgIHRoaXMuc2VsZWN0ZWRSb3dzID0gdGhpcy5kYXRhU291cmNlPy5kYXRhLmZpbHRlcihcbiAgICAgIChkYXRhKSA9PiBkYXRhPy5pc1NlbGVjdGVkXG4gICAgKTtcbiAgfVxuXG4gIGdldCBkYXRhU291cmNlKCk6IE1hdFRhYmxlRGF0YVNvdXJjZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YVNvdXJjZTtcbiAgfVxuXG4gIHByaXZhdGUgX2NvbmZpZ09wdGlvbnM6IENvbmZpZ09wdGlvbnM7XG4gIHByaXZhdGUgX2RhdGFTb3VyY2U6IE1hdFRhYmxlRGF0YVNvdXJjZTxhbnk+O1xuXG4gIEBPdXRwdXQoKSBmZXRjaERhdGFDYWxsYmFjazogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSByb3dMZXZlbEFjdGlvbkhhbmRsZXI6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgY2VsbENsaWNrQWN0aW9uSGFuZGxlcjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvbkNvbmZpZ09wdGlvbnNDaGFuZ2U6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25Ub2dnbGVDaGFuZ2VIYW5kbGVyOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uU2VsZWN0QnV0dG9uVG9nZ2xlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICB2aXNpYmxlQ29sdW1uczogYW55W10gPSBuZXcgQXJyYXk8YW55PigpO1xuICBzdWJzY3JpcHRpb246IGFueTtcbiAgc2Nyb2xsU3Vic2NyaXB0aW9uOiBhbnk7XG4gIHNjcm9sbFRvcDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgX3NuYWNrQmFyOiBNYXRTbmFja0JhcixcbiAgICBwcml2YXRlIGNoYW5nZURldGVjdG9yUmVmczogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgcHJpdmF0ZSBkeW5hbWljdGFibGVGaWx0ZXJTZXJ2aWNlOiBEeW5hbWljdGFibGVGaWx0ZXJTZXJ2aWNlLFxuICAgIHByaXZhdGUgZG9tU2FuaXRpemVyOiBEb21TYW5pdGl6ZXIsXG4gICAgcHJpdmF0ZSBkeW5hbWljdGFibGVTY3JvbGxlclNlcnZpY2U6IER5bmFtaWN0YWJsZVNjcm9sbGVyU2VydmljZVxuICApIHt9XG5cbiAgcmVzZXRDb25maWdPcHRpb25zKCkge1xuICAgIHRoaXMuY29uZmlnT3B0aW9ucyA9IHsgLi4udGhpcy5jb25maWdPcHRpb25zIH07XG4gICAgdGhpcy5zZXRDb2x1bW5zVG9EaXNwbGF5KCk7XG4gICAgdGhpcy52aXNpYmxlQ29sdW1ucyA9IHRoaXMuY29uZmlnT3B0aW9ucy5hbGxDb2x1bW5zLmZpbHRlcihcbiAgICAgIChjb2x1bW4pID0+IGNvbHVtblsndmlzaWJsZSddXG4gICAgKTtcblxuICAgIHRoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1ucy5mb3JFYWNoKChjb2x1bW46IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5yZU9yZGVyQ29sdW1ucyhjb2x1bW4sICdpbmRleCcpO1xuICAgICAgdGhpcy5zZXRDb2x1bW5zVG9EaXNwbGF5KCk7XG4gICAgICB0aGlzLnN0aWNrKGNvbHVtbik7XG4gICAgICB0aGlzLmRpc3BsYXllZENvbHVtbnMuZm9yRWFjaCgoY29sdW1uOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKGNvbHVtbi5pZCA9PSBjb2x1bW4pIHtcbiAgICAgICAgICBjb2x1bW4uc3RpY2t5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBoaWdobGlnaHQocm93OiBhbnkpIHtcbiAgICB0aGlzLnNlbGVjdGVkUm93SW5kZXggPSByb3cuaWQ7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnNlbGVjdGlvbiA9IG5ldyBTZWxlY3Rpb25Nb2RlbDxhbnk+KHRydWUsIHRoaXMuc2VsZWN0ZWRSb3dzKTtcbiAgICB0aGlzLnJlc2V0Q29uZmlnT3B0aW9ucygpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gdGhpcy5keW5hbWljdGFibGVGaWx0ZXJTZXJ2aWNlXG4gICAgICAuZ2V0RXZlbnRFbWl0dGVyKClcbiAgICAgIC5zdWJzY3JpYmUoKGV2ZW50RGF0YSkgPT4gdGhpcy5oYW5kbGVFdmVudChldmVudERhdGEpKTtcbiAgICB0aGlzLnNjcm9sbFN1YnNjcmlwdGlvbiA9IHRoaXMuZHluYW1pY3RhYmxlU2Nyb2xsZXJTZXJ2aWNlXG4gICAgICAuZ2V0RXZlbnRFbWl0dGVyKClcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbFRvVG9wKCk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuZGF0YVNvdXJjZS5zb3J0aW5nRGF0YUFjY2Vzc29yID0gKGRhdGEsIHNvcnRIZWFkZXJJZCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnSW5mbzogYW55ID0gdGhpcy5jb25maWdPcHRpb25zLmFsbENvbHVtbnMuZmlsdGVyKFxuICAgICAgICAoaXRlbSkgPT4gaXRlbS5pZCA9PT0gc29ydEhlYWRlcklkXG4gICAgICApO1xuICAgICAgaWYgKGRhdGFbc29ydEhlYWRlcklkXSA9PT0gbnVsbCB8fCBkYXRhW3NvcnRIZWFkZXJJZF0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgaWYgKGNvbmZpZ0luZm8udHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnSW5mby50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICBpZiAoY29uZmlnSW5mby50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZGF0YVtzb3J0SGVhZGVySWRdLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGF0YVtzb3J0SGVhZGVySWRdO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb25maWdPcHRpb25zLmFsbENvbHVtbnMubWFwKChjb2wpID0+IHtcbiAgICAgIGlmIChjb2wucmV2ZXJzZVNvcnQpIHtcbiAgICAgICAgdGhpcy5yZXZlcnNlU29ydENvbHVtbnNbY29sLmlkXSA9IDE7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kYXRhU291cmNlLnNvcnREYXRhID0gdGhpcy5zb3J0RGF0YSgpO1xuICB9XG5cbiAgc29ydERhdGEoKSB7XG4gICAgbGV0IHNvcnRGdW5jdGlvbiA9IChpdGVtczogYW55LCBzb3J0OiBNYXRTb3J0KTogYW55ID0+IHtcbiAgICAgIGlmICghc29ydC5hY3RpdmUgfHwgc29ydC5kaXJlY3Rpb24gPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVtcy5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4ge1xuICAgICAgICBsZXQgY29tcGFyYXRvclJlc3VsdCA9IDA7XG4gICAgICAgIGNvbnN0IGRhdGVUaW1lUmVnZXggPVxuICAgICAgICAgIC9eKFxcd3szfVxcc1xcZHsxLDJ9LFxcc1xcZHsyLDR9KVxccyhcXGR7MSwyfTpcXGR7Mn1cXHNbQVBhcF1bTW1dKSQvO1xuXG4gICAgICAgIGNvbnN0IGRhdGVSYW5nZVJlZ2V4ID1cbiAgICAgICAgICAvXihcXHd7M30gXFxkezEsMn0sIFxcZHsyLDR9KSAtIChcXHd7M30gXFxkezEsMn0sIFxcZHsyLDR9KSQvO1xuXG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IHNvcnQuYWN0aXZlO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBhW2NvbHVtbl0gPT09IG51bGwgfHxcbiAgICAgICAgICBhW2NvbHVtbl0gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIGFbY29sdW1uXSA9PT0gJ18gXycgfHxcbiAgICAgICAgICBhW2NvbHVtbl0ubGVuZ3RoID09PSAwXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGJbY29sdW1uXSA9PT0gbnVsbCB8fFxuICAgICAgICAgIGJbY29sdW1uXSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgYltjb2x1bW5dID09PSAnXyBfJyB8fFxuICAgICAgICAgIGJbY29sdW1uXS5sZW5ndGggPT09IDBcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAtMTtcblxuICAgICAgICBpZiAodHlwZW9mIGFbY29sdW1uXSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGJbY29sdW1uXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBpZiAodGhpcy5yZXZlcnNlU29ydENvbHVtbnNbY29sdW1uXSkge1xuICAgICAgICAgICAgY29tcGFyYXRvclJlc3VsdCA9IGJbY29sdW1uXSAtIGFbY29sdW1uXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcGFyYXRvclJlc3VsdCA9IGFbY29sdW1uXSAtIGJbY29sdW1uXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3JSZXN1bHQgKiAoc29ydC5kaXJlY3Rpb24gPT0gJ2FzYycgPyAxIDogLTEpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhW2NvbHVtbl0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBiW2NvbHVtbl0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgZGF0ZVJhbmdlUmVnZXgudGVzdChhW2NvbHVtbl0pICYmXG4gICAgICAgICAgZGF0ZVJhbmdlUmVnZXgudGVzdChiW2NvbHVtbl0pXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGRhdGUxID0gbmV3IERhdGUoYVtjb2x1bW5dLnNwbGl0KCctJylbMF0udHJpbSgpKS5nZXRUaW1lKCk7XG4gICAgICAgICAgY29uc3QgZGF0ZTIgPSBuZXcgRGF0ZShiW2NvbHVtbl0uc3BsaXQoJy0nKVswXS50cmltKCkpLmdldFRpbWUoKTtcbiAgICAgICAgICBpZiAodGhpcy5yZXZlcnNlU29ydENvbHVtbnNbY29sdW1uXSkge1xuICAgICAgICAgICAgY29tcGFyYXRvclJlc3VsdCA9IGRhdGUyIC0gZGF0ZTE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBhcmF0b3JSZXN1bHQgPSBkYXRlMSAtIGRhdGUyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29tcGFyYXRvclJlc3VsdCAqIChzb3J0LmRpcmVjdGlvbiA9PSAnYXNjJyA/IDEgOiAtMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgZGF0ZVRpbWVSZWdleC50ZXN0KGFbY29sdW1uXSkgJiZcbiAgICAgICAgICBkYXRlVGltZVJlZ2V4LnRlc3QoYltjb2x1bW5dKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBkYXRlMSA9IG5ldyBEYXRlKGFbY29sdW1uXSkuZ2V0VGltZSgpO1xuICAgICAgICAgIGNvbnN0IGRhdGUyID0gbmV3IERhdGUoYltjb2x1bW5dKS5nZXRUaW1lKCk7XG4gICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZVNvcnRDb2x1bW5zW2NvbHVtbl0pIHtcbiAgICAgICAgICAgIGNvbXBhcmF0b3JSZXN1bHQgPSBkYXRlMiAtIGRhdGUxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21wYXJhdG9yUmVzdWx0ID0gZGF0ZTEgLSBkYXRlMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3JSZXN1bHQgKiAoc29ydC5kaXJlY3Rpb24gPT0gJ2FzYycgPyAxIDogLTEpO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYVtjb2x1bW5dKSAmJiBBcnJheS5pc0FycmF5KGJbY29sdW1uXSkpIHtcbiAgICAgICAgICBpZiAodGhpcy5yZXZlcnNlU29ydENvbHVtbnNbY29sdW1uXSkge1xuICAgICAgICAgICAgY29tcGFyYXRvclJlc3VsdCA9IGJbY29sdW1uXVswXS5sb2NhbGVDb21wYXJlKGFbY29sdW1uXVswXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBhcmF0b3JSZXN1bHQgPSBhW2NvbHVtbl1bMF0ubG9jYWxlQ29tcGFyZShiW2NvbHVtbl1bMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29tcGFyYXRvclJlc3VsdCAqIChzb3J0LmRpcmVjdGlvbiA9PSAnYXNjJyA/IDEgOiAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZVNvcnRDb2x1bW5zW2NvbHVtbl0pIHtcbiAgICAgICAgICAgIGNvbXBhcmF0b3JSZXN1bHQgPSBiW2NvbHVtbl0ubG9jYWxlQ29tcGFyZShhW2NvbHVtbl0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21wYXJhdG9yUmVzdWx0ID0gYVtjb2x1bW5dLmxvY2FsZUNvbXBhcmUoYltjb2x1bW5dKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3JSZXN1bHQgKiAoc29ydC5kaXJlY3Rpb24gPT0gJ2FzYycgPyAxIDogLTEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBzb3J0RnVuY3Rpb247XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgaWYgKFxuICAgICAgY2hhbmdlcyAmJlxuICAgICAgY2hhbmdlc1snZGF0YVNvdXJjZSddICYmXG4gICAgICAhY2hhbmdlc1snZGF0YVNvdXJjZSddLmZpcnN0Q2hhbmdlXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNoYW5nZXNbJ2RhdGFTb3VyY2UnXVsnY3VycmVudFZhbHVlJ10uZGF0YSA8XG4gICAgICAgIGNoYW5nZXNbJ2RhdGFTb3VyY2UnXVsncHJldmlvdXNWYWx1ZSddLmRhdGFcbiAgICAgICkge1xuICAgICAgICB0aGlzLnJlc2V0VGFibGVTY3JvbGwoKTtcbiAgICAgIH1cblxuICAgICAgLy8gbWVyZ2VSb3dzIGZvciBuZXdseSBjb25jYXRlbmF0ZWQgcm93c1xuICAgICAgY29uc3QgZ3JvdXBlZENvbHM6IGFueVtdID0gW107XG4gICAgICB0aGlzLmNvbmZpZ09wdGlvbnMuYWxsQ29sdW1ucy5mb3JFYWNoKChjb2w6IGFueSkgPT4ge1xuICAgICAgICBpZiAoY29sLnJldmVyc2VTb3J0KSB0aGlzLnJldmVyc2VTb3J0Q29sdW1uc1tjb2wuaWRdID0gMTtcbiAgICAgICAgY29uc3QgZ3JvdXBCeUNvbHM6IHN0cmluZ1tdID0gdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zO1xuICAgICAgICBjb25zdCBpbmRleCA9IGdyb3VwQnlDb2xzLmluZGV4T2YoY29sLmlkKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICBncm91cGVkQ29scy5wdXNoKGNvbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGdyb3VwZWRDb2xzLmxlbmd0aCkge1xuICAgICAgICBncm91cGVkQ29scy5mb3JFYWNoKChjb2wpID0+IHtcbiAgICAgICAgICBpZiAoY29sLmlzTXVsdGlWYWx1ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZS5kYXRhID0gdGhpcy5leHBhbmRSb3dzRm9yTXVsdGlWYWx1ZWRDb2xzKGNvbC5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGF0YVNvdXJjZS5zb3J0aW5nRGF0YUFjY2Vzc29yID0gKGRhdGEsIHNvcnRIZWFkZXJJZCkgPT4ge1xuICAgICAgICBjb25zdCBjb25maWdJbmZvOiBhbnkgPSB0aGlzLmNvbmZpZ09wdGlvbnMuYWxsQ29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgKGl0ZW0pID0+IGl0ZW0uaWQgPT09IHNvcnRIZWFkZXJJZFxuICAgICAgICApO1xuICAgICAgICBpZiAoZGF0YVtzb3J0SGVhZGVySWRdID09PSBudWxsIHx8IGRhdGFbc29ydEhlYWRlcklkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNvbmZpZ0luZm8udHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZ0luZm8udHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnSW5mby50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHJldHVybiBkYXRhW3NvcnRIZWFkZXJJZF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZGF0YVtzb3J0SGVhZGVySWRdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5kYXRhU291cmNlLnNvcnREYXRhID0gdGhpcy5zb3J0RGF0YSgpO1xuICAgICAgdGhpcy5kYXRhU291cmNlLnNvcnQgPSB0aGlzLnNvcnQ7XG4gICAgICB0aGlzLnJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICB0aGlzLnJlcGFpbnRUYWJsZSgpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBjaGFuZ2VzICYmXG4gICAgICBjaGFuZ2VzWydjb25maWdPcHRpb25zJ10gJiZcbiAgICAgICFjaGFuZ2VzWydjb25maWdPcHRpb25zJ10uZmlyc3RDaGFuZ2VcbiAgICApIHtcbiAgICAgIHRoaXMucmVzZXRDb25maWdPcHRpb25zKCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGNoYW5nZXMgJiZcbiAgICAgIGNoYW5nZXNbJ2NvbmZpZ09wdGlvbnMnXSAmJlxuICAgICAgY2hhbmdlc1snY29uZmlnT3B0aW9ucyddLmZpcnN0Q2hhbmdlXG4gICAgKSB7XG4gICAgICB0aGlzLmNvbmZpZ09wdGlvbnMuYWxsQ29sdW1ucy5mb3JFYWNoKChjb2wpID0+IHtcbiAgICAgICAgY29sLm9yaWdpbmFsT3JkZXIgPSBjb2wub3JkZXI7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVFdmVudChldmVudDogYW55KSB7XG4gICAgc3dpdGNoIChldmVudC5ldmVudFR5cGUpIHtcbiAgICAgIGNhc2UgQ29uc3RhbnRzLkVYRUNVVEVfVU5ETzpcbiAgICAgICAgdGhpcy50cmlnZ2VyVW5kb0V4ZWN1dGlvbihldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb25zdGFudHMuRVhFQ1VURV9SRURPOlxuICAgICAgICB0aGlzLnRyaWdnZXJSZWRvRXhlY3V0aW9uKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5BRERfR1JPVVA6XG4gICAgICAgIHRoaXMuYWRkR3JvdXAoZXZlbnQuZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb25zdGFudHMuUkVNT1ZFX0dST1VQOlxuICAgICAgICB0aGlzLnJlbW92ZUdyb3VwKGV2ZW50LmRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29uc3RhbnRzLkFERF9DT0xVTU46XG4gICAgICAgIHRoaXMudG9nZ2xlQ29sdW1uVmlzaWJpbGl0eShldmVudC5kYXRhLmlzQ2hlY2tlZCwgZXZlbnQuZGF0YS5jb2x1bW5JZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb25zdGFudHMuUkVNT1ZFX0NPTFVNTjpcbiAgICAgICAgdGhpcy50b2dnbGVDb2x1bW5WaXNpYmlsaXR5KGV2ZW50LmRhdGEuaXNDaGVja2VkLCBldmVudC5kYXRhLmNvbHVtbklkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdHJpZ2dlclVuZG9FeGVjdXRpb24oZXZlbnQ6IGFueSkge1xuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnROYW1lKSB7XG4gICAgICBjYXNlIENvbnN0YW50cy5BRERfR1JPVVA6XG4gICAgICAgIHRoaXMucmVtb3ZlR3JvdXAoZXZlbnQuZGF0YSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5SRU1PVkVfR1JPVVA6XG4gICAgICAgIHRoaXMuYWRkR3JvdXAoZXZlbnQuZGF0YSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5BRERfQ09MVU1OOlxuICAgICAgICB0aGlzLnRvZ2dsZUNvbHVtblZpc2liaWxpdHkoZmFsc2UsIGV2ZW50LmRhdGEsIHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29uc3RhbnRzLlJFTU9WRV9DT0xVTU46XG4gICAgICAgIHRoaXMudG9nZ2xlQ29sdW1uVmlzaWJpbGl0eSh0cnVlLCBldmVudC5kYXRhLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdHJpZ2dlclJlZG9FeGVjdXRpb24oZXZlbnQ6IGFueSkge1xuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnROYW1lKSB7XG4gICAgICBjYXNlIENvbnN0YW50cy5BRERfR1JPVVA6XG4gICAgICAgIHRoaXMuYWRkR3JvdXAoZXZlbnQuZGF0YSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5SRU1PVkVfR1JPVVA6XG4gICAgICAgIHRoaXMucmVtb3ZlR3JvdXAoZXZlbnQuZGF0YSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5BRERfQ09MVU1OOlxuICAgICAgICB0aGlzLnRvZ2dsZUNvbHVtblZpc2liaWxpdHkodHJ1ZSwgZXZlbnQuZGF0YSwgdHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb25zdGFudHMuUkVNT1ZFX0NPTFVNTjpcbiAgICAgICAgdGhpcy50b2dnbGVDb2x1bW5WaXNpYmlsaXR5KGZhbHNlLCBldmVudC5kYXRhLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaXNHcm91cGVkKGNvbHVtbklkOiBzdHJpbmcpIHtcbiAgICBsZXQgaXNHcm91cGVkID0gZmFsc2U7XG4gICAgbGV0IGdyb3VwQnlDb2xzOiBzdHJpbmdbXSA9IHRoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1ucztcbiAgICBpZiAoZ3JvdXBCeUNvbHMuaW5kZXhPZihjb2x1bW5JZCkgPiAtMSkge1xuICAgICAgaXNHcm91cGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzR3JvdXBlZDtcbiAgfVxuXG4gIGlzQXJyYXkob2JqZWN0OiBhbnkpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmplY3QpO1xuICB9XG5cbiAgZXhwYW5kUm93c0Zvck11bHRpVmFsdWVkQ29scyhjb2xJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgZGF0YVNvdXJjZVRlbXAgPSBbLi4udGhpcy5kYXRhU291cmNlLmRhdGFdO1xuICAgIGNvbnN0IGV4cGFuZGVkUm93czogYW55W10gPSBbXTtcbiAgICBkYXRhU291cmNlVGVtcC5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIGNvbnN0IG11bHRpVmFsdWVzID0gcm93W2NvbElkXTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG11bHRpVmFsdWVzKSkge1xuICAgICAgICBtdWx0aVZhbHVlcy5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICAgICAgICBjb25zdCBleHBhbmRSb3dUZW1wID0geyAuLi5yb3cgfTtcbiAgICAgICAgICBleHBhbmRSb3dUZW1wW2NvbElkXSA9IHZhbDtcbiAgICAgICAgICBleHBhbmRlZFJvd3MucHVzaChleHBhbmRSb3dUZW1wKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleHBhbmRlZFJvd3MucHVzaChyb3cpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBleHBhbmRlZFJvd3M7XG4gIH1cblxuICBtZXJnZVJvd3NGb3JNdWx0aVZhbHVlZENvbHMoY29sSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGRhdGFTb3VyY2VUZW1wID0gWy4uLnRoaXMuZGF0YVNvdXJjZS5kYXRhXTtcbiAgICBjb25zdCBtZXJnZWRSb3dzOiBhbnlbXSA9IFtdO1xuICAgIGRhdGFTb3VyY2VUZW1wLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBtZXJnZWRSb3dzLmZpbmRJbmRleCgocikgPT4gci5pZCA9PT0gcm93LmlkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUm93ID0gbWVyZ2VkUm93c1tpbmRleF07XG4gICAgICAgIGxldCBtdWx0aVZhbHVlZENvbCA9IGV4aXN0aW5nUm93W2NvbElkXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobXVsdGlWYWx1ZWRDb2wpKSB7XG4gICAgICAgICAgbXVsdGlWYWx1ZWRDb2wucHVzaChyb3dbY29sSWRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgdGVtcFZhbCA9IG11bHRpVmFsdWVkQ29sO1xuICAgICAgICAgIG11bHRpVmFsdWVkQ29sID0gW3RlbXBWYWxdO1xuICAgICAgICAgIG11bHRpVmFsdWVkQ29sLnB1c2gocm93W2NvbElkXSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhpc3RpbmdSb3dbY29sSWRdID0gbXVsdGlWYWx1ZWRDb2w7XG4gICAgICAgIG1lcmdlZFJvd3NbaW5kZXhdID0gZXhpc3RpbmdSb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXJnZWRSb3dzLnB1c2gocm93KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbWVyZ2VkUm93cztcbiAgfVxuXG4gIGFkZEdyb3VwKGl0ZW06IGFueSwgZXZlbnQ/OiBFdmVudCwgZXh0ZXJuYWxUcmlnZ2VyPzogYm9vbGVhbiB8IGZhbHNlKSB7XG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAoaXRlbS5pc011bHRpVmFsdWVkKSB7XG4gICAgICB0aGlzLmRhdGFTb3VyY2UuZGF0YSA9IHRoaXMuZXhwYW5kUm93c0Zvck11bHRpVmFsdWVkQ29scyhpdGVtLmlkKTtcbiAgICB9XG5cbiAgICBsZXQgZ3JvdXBlZENvbElkczogc3RyaW5nW10gPSB0aGlzLmNvbmZpZ09wdGlvbnMuZ3JvdXBCeUNvbHVtbnM7XG4gICAgbGV0IGdyb3VwSW5kZXggPSBncm91cGVkQ29sSWRzLmluZGV4T2YoaXRlbS5pZCk7XG4gICAgaWYgKHRoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1ucy5sZW5ndGggPj0gMyB8fCBncm91cEluZGV4ID4gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IF9ncm91cGVkQ29sdW1uSURzID0gWy4uLnRoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1uc107XG4gICAgX2dyb3VwZWRDb2x1bW5JRHMucHVzaChpdGVtLmlkKTtcbiAgICB0aGlzLmNvbmZpZ09wdGlvbnMuZ3JvdXBCeUNvbHVtbnMgPSBbLi4uX2dyb3VwZWRDb2x1bW5JRHNdO1xuICAgIHRoaXMucmVPcmRlckNvbHVtbnMoaXRlbS5pZCwgJ2luZGV4Jyk7XG4gICAgdGhpcy5zZXRDb2x1bW5zVG9EaXNwbGF5KCk7XG4gICAgdGhpcy5zdGljayhpdGVtLmlkKTtcbiAgICB0aGlzLmRpc3BsYXllZENvbHVtbnMuZm9yRWFjaCgoY29sdW1uOiBhbnkpID0+IHtcbiAgICAgIGlmIChjb2x1bW4uaWQgPT09IGl0ZW0uaWQpIHtcbiAgICAgICAgY29sdW1uLnN0aWNreSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jb25maWdPcHRpb25zID0geyAuLi50aGlzLmNvbmZpZ09wdGlvbnMgfTtcbiAgICB0aGlzLm9uQ29uZmlnT3B0aW9uc0NoYW5nZS5lbWl0KHtcbiAgICAgIGV2ZW50VHlwZTogQ29uc3RhbnRzLlJFRlJFU0hfQ09ORklHLFxuICAgICAgZGF0YTogdGhpcy5jb25maWdPcHRpb25zXG4gICAgfSk7XG4gICAgaWYgKCFleHRlcm5hbFRyaWdnZXIpIHtcbiAgICAgIHRoaXMub25Db25maWdPcHRpb25zQ2hhbmdlLmVtaXQoe1xuICAgICAgICBldmVudFR5cGU6IENvbnN0YW50cy5XUklURV9UT19VTkRPX1JFRE8sXG4gICAgICAgIGV2ZW50TmFtZTogQ29uc3RhbnRzLkFERF9HUk9VUCxcbiAgICAgICAgZGF0YTogaXRlbVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlR3JvdXAoaXRlbTogYW55LCBldmVudD86IEV2ZW50LCBleHRlcm5hbFRyaWdnZXI/OiBib29sZWFuIHwgZmFsc2UpIHtcbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChpdGVtLmlzTXVsdGlWYWx1ZWQpIHtcbiAgICAgIHRoaXMuZGF0YVNvdXJjZS5kYXRhID0gdGhpcy5tZXJnZVJvd3NGb3JNdWx0aVZhbHVlZENvbHMoaXRlbS5pZCk7XG4gICAgfVxuXG4gICAgbGV0IF9ncm91cGVkQ29sdW1uSURzID0gWy4uLnRoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1uc107XG4gICAgbGV0IGluZGV4ID0gX2dyb3VwZWRDb2x1bW5JRHMuZmluZEluZGV4KCh4KSA9PiB4ID09PSBpdGVtLmlkKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgX2dyb3VwZWRDb2x1bW5JRHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zID0gWy4uLl9ncm91cGVkQ29sdW1uSURzXTtcbiAgICB0aGlzLnJlT3JkZXJDb2x1bW5zKGl0ZW0uaWQsICdvcmlnaW5hbCcpO1xuICAgIHRoaXMuc2V0Q29sdW1uc1RvRGlzcGxheSgpO1xuICAgIHRoaXMudW5zdGljayhpdGVtLmlkKTtcbiAgICB0aGlzLmRpc3BsYXllZENvbHVtbnMuZm9yRWFjaCgoY29sdW1uOiBhbnkpID0+IHtcbiAgICAgIGlmIChjb2x1bW4uaWQgPT0gaXRlbS5pZCkge1xuICAgICAgICBjb2x1bW4uc3RpY2t5ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbmZpZ09wdGlvbnMgPSB7IC4uLnRoaXMuY29uZmlnT3B0aW9ucyB9O1xuICAgIHRoaXMub25Db25maWdPcHRpb25zQ2hhbmdlLmVtaXQoe1xuICAgICAgZXZlbnRUeXBlOiBDb25zdGFudHMuUkVGUkVTSF9DT05GSUcsXG4gICAgICBkYXRhOiB0aGlzLmNvbmZpZ09wdGlvbnNcbiAgICB9KTtcbiAgICBpZiAoIWV4dGVybmFsVHJpZ2dlcikge1xuICAgICAgdGhpcy5vbkNvbmZpZ09wdGlvbnNDaGFuZ2UuZW1pdCh7XG4gICAgICAgIGV2ZW50VHlwZTogQ29uc3RhbnRzLldSSVRFX1RPX1VORE9fUkVETyxcbiAgICAgICAgZXZlbnROYW1lOiBDb25zdGFudHMuUkVNT1ZFX0dST1VQLFxuICAgICAgICBkYXRhOiBpdGVtXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBvcHRpb25DbGlja2VkKGV2ZW50OiBFdmVudCwgaXRlbTogYW55KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaXRlbS5zZWxlY3RlZCA9ICFpdGVtLnNlbGVjdGVkO1xuICAgIGlmIChpdGVtLnNlbGVjdGVkKSB7XG4gICAgICB0aGlzLnRvZ2dsZUNvbHVtblZpc2liaWxpdHkodHJ1ZSwgaXRlbS5pZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudG9nZ2xlQ29sdW1uVmlzaWJpbGl0eShmYWxzZSwgaXRlbS5pZCk7XG4gICAgfVxuICB9XG5cbiAgb25UYWJsZVNjcm9sbChldmVudDogYW55KSB7XG4gICAgbGV0IGVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgbGV0IGlzQm90dG9tUmVhY2hlZCA9XG4gICAgICBNYXRoLmFicyhlbGVtZW50LnNjcm9sbEhlaWdodCkgLVxuICAgICAgICBNYXRoLmFicyhlbGVtZW50LnNjcm9sbFRvcCkgLVxuICAgICAgICBNYXRoLmFicyhlbGVtZW50LmNsaWVudEhlaWdodCkgPD1cbiAgICAgIDE7XG5cbiAgICBsZXQgZG9jdW1lbnRTY3JvbGxMZWZ0ID0gZWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgIGlmICh0aGlzLmxhc3RTY3JvbGxMZWZ0ICE9PSBkb2N1bWVudFNjcm9sbExlZnQpIHtcbiAgICAgIHRoaXMubGFzdFNjcm9sbExlZnQgPSBkb2N1bWVudFNjcm9sbExlZnQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzQm90dG9tUmVhY2hlZCkge1xuICAgICAgdGhpcy5mZXRjaERhdGFDYWxsYmFjay5lbWl0KHsgZGF0YTogJ2luZmluaXRlU2Nyb2xsJyB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnNjcm9sbFRvcCA9IGVsZW1lbnQuc2Nyb2xsVG9wO1xuICB9XG5cbiAgb25Sb3dMZXZlbEFjdGlvbkNsaWNrKGFjdGlvbjogYW55LCBldmVudDogYW55LCBzdWJNZW51ID0gJ3N1Yk1lbnUnKSB7XG4gICAgdGhpcy5yb3dMZXZlbEFjdGlvbkhhbmRsZXIuZW1pdCh7XG4gICAgICBhY3Rpb246IGFjdGlvbi5hY3Rpb24sXG4gICAgICBkYXRhOiBldmVudCxcbiAgICAgIHN1Yk1lbnU6IHN1Yk1lbnVcbiAgICB9KTtcbiAgfVxuXG4gIG9uUm93TGV2ZWxBY3Rpb25JY29uQ2xpY2soYWN0aW9uOiBhbnksIGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLmRhdGFTb3VyY2UuZGF0YSA9IHRoaXMuZGF0YVNvdXJjZS5kYXRhLm1hcCgocm93OiBhbnkpID0+XG4gICAgICByb3cuaWQgPT09IGV2ZW50LmlkXG4gICAgICAgID8geyAuLi5yb3csIFthY3Rpb24ucHJvcGVydHldOiAhcm93W2FjdGlvbi5wcm9wZXJ0eV0gfVxuICAgICAgICA6IHJvd1xuICAgICk7XG4gICAgdGhpcy5yb3dMZXZlbEFjdGlvbkhhbmRsZXIuZW1pdCh7XG4gICAgICBhY3Rpb246IGFjdGlvbi5hY3Rpb24sXG4gICAgICBkYXRhOiBldmVudFxuICAgIH0pO1xuICB9XG5cbiAgY3VzdG9tV2hlbiA9IChpbmRleDogYW55KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnT3B0aW9ucy5yb3dzRXhwYW5kYWJsZTtcbiAgfTtcblxuICBzZXRDb2x1bW5zVG9EaXNwbGF5KCkge1xuICAgIHRoaXMuY29uZmlnT3B0aW9ucy5hbGxDb2x1bW5zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcbiAgICBsZXQgX2Rpc3BsYXllZENvbHVtbnM6IENvbHVtbltdID0gdGhpcy5jb25maWdPcHRpb25zLmFsbENvbHVtbnMuZmlsdGVyKFxuICAgICAgKGNvbHVtbikgPT4gY29sdW1uWyd2aXNpYmxlJ11cbiAgICApO1xuICAgIHRoaXMuZGlzcGxheWVkQ29sdW1ucyA9IF9kaXNwbGF5ZWRDb2x1bW5zO1xuICAgIGxldCBfZGlzcGxheWVkQ29sU3Ryczogc3RyaW5nW10gPSBfZGlzcGxheWVkQ29sdW1ucy5tYXAoKGNvbCkgPT4gY29sWydpZCddKTtcbiAgICBpZiAodGhpcy5jb25maWdPcHRpb25zLmVuYWJsZVJvd3NTZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMuY29sdW1uc1RvRGlzcGxheSA9IFsnc2VsZWN0ZWQnLCAuLi5fZGlzcGxheWVkQ29sU3Rycy5zbGljZSgpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb2x1bW5zVG9EaXNwbGF5ID0gWy4uLl9kaXNwbGF5ZWRDb2xTdHJzLnNsaWNlKCldO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb25maWdPcHRpb25zLmRpc3BsYXlBY3Rpb25zQ29sdW1uKSB7XG4gICAgICB0aGlzLmNvbHVtbnNUb0Rpc3BsYXkgPSBbLi4udGhpcy5jb2x1bW5zVG9EaXNwbGF5LCAnYWN0aW9ucyddO1xuICAgIH1cbiAgICB0aGlzLmNvbmZpZ09wdGlvbnMgPSB7IC4uLnRoaXMuY29uZmlnT3B0aW9ucyB9O1xuICB9XG5cbiAgZ3JvdXBBbmRTb3J0KGRhdGE6IGFueVtdKSB7XG4gICAgbGV0IF9kYXRhOiBhbnlbXSA9IFtdO1xuICAgIGxldCBncm91cEJ5Q29scyA9IHRoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1ucztcblxuICAgIGlmIChncm91cEJ5Q29scy5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgZ3JvdXBzTDAgPSB0aGlzLmdyb3VwQnkoZGF0YSwgZ3JvdXBCeUNvbHNbMF0pO1xuXG4gICAgICBncm91cHNMMCA9IE9iamVjdC52YWx1ZXMoZ3JvdXBzTDApO1xuXG4gICAgICBpZiAoZ3JvdXBCeUNvbHMubGVuZ3RoID4gMSkge1xuICAgICAgICBncm91cHNMMC5mb3JFYWNoKChyb3dMMDogYW55KSA9PiB7XG4gICAgICAgICAgbGV0IF9ncm91cEwxID0gdGhpcy5ncm91cEJ5KHJvd0wwLCBncm91cEJ5Q29sc1sxXSk7XG4gICAgICAgICAgX2dyb3VwTDEgPSBPYmplY3QudmFsdWVzKF9ncm91cEwxKTtcblxuICAgICAgICAgIGlmIChncm91cEJ5Q29scy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBfZ3JvdXBMMS5mb3JFYWNoKChyb3dMMTogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGxldCBfZ3JvdXBMMiA9IHRoaXMuZ3JvdXBCeShyb3dMMSwgZ3JvdXBCeUNvbHNbMl0pO1xuICAgICAgICAgICAgICBfZ3JvdXBMMiA9IE9iamVjdC52YWx1ZXMoX2dyb3VwTDIpO1xuICAgICAgICAgICAgICBsZXQgYXJyOiBhbnlbXSA9IFtdO1xuICAgICAgICAgICAgICBfZ3JvdXBMMi5mb3JFYWNoKChlbGVtZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBhcnIgPSBhcnIuY29uY2F0KGVsZW1lbnQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgX2RhdGEgPSBfZGF0YS5jb25jYXQoLi4uYXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgYXJyOiBhbnlbXSA9IFtdO1xuICAgICAgICAgICAgX2dyb3VwTDEuZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGFyciA9IGFyci5jb25jYXQoZWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF9kYXRhID0gX2RhdGEuY29uY2F0KC4uLmFycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBhcnI6IGFueVtdID0gW107XG4gICAgICAgIGdyb3Vwc0wwLmZvckVhY2goKGVsZW1lbnQ6IGFueSkgPT4ge1xuICAgICAgICAgIGFyciA9IGFyci5jb25jYXQoZWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfZGF0YSA9IF9kYXRhLmNvbmNhdCguLi5hcnIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRhdGFTb3VyY2UuZGF0YSA9IF9kYXRhO1xuICAgIH1cbiAgfVxuXG4gIGdyb3VwQnkoYXJyOiBhbnlbXSwga2V5OiBzdHJpbmcpIHtcbiAgICBsZXQgcmVzdWx0ID0gYXJyLnJlZHVjZShmdW5jdGlvbiAociwgYSkge1xuICAgICAgclthW2tleV1dID0gclthW2tleV1dIHx8IFtdO1xuICAgICAgclthW2tleV1dLnB1c2goYSk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgY2FjaGVTcGFuKGtleTogc3RyaW5nLCBncm91cExldmVsPzogbnVtYmVyKSB7XG4gICAgY29uc3QgREFUQSA9IFsuLi50aGlzLmRhdGFTb3VyY2UuZGF0YV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBEQVRBLmxlbmd0aDsgKSB7XG4gICAgICBsZXQgY3VycmVudFZhbHVlID0gREFUQVtpXVtrZXldO1xuICAgICAgbGV0IGdyb3VwMEtleTtcbiAgICAgIGxldCBncm91cDFLZXk7XG4gICAgICBsZXQgZ3JvdXAyS2V5O1xuICAgICAgbGV0IGdyb3VwMFZhbDtcbiAgICAgIGxldCBncm91cDFWYWw7XG4gICAgICBsZXQgZ3JvdXAyVmFsO1xuICAgICAgaWYgKGdyb3VwTGV2ZWwgPT0gMikge1xuICAgICAgICBncm91cDBLZXkgPSB0aGlzLmNvbmZpZ09wdGlvbnMuZ3JvdXBCeUNvbHVtbnNbMF07XG4gICAgICAgIGdyb3VwMUtleSA9IHRoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1uc1sxXTtcbiAgICAgICAgZ3JvdXAyS2V5ID0gdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zWzJdO1xuICAgICAgICBncm91cDBWYWwgPSBEQVRBW2ldW3RoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1uc1swXV07XG4gICAgICAgIGdyb3VwMVZhbCA9IERBVEFbaV1bdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zWzFdXTtcbiAgICAgICAgZ3JvdXAyVmFsID0gREFUQVtpXVt0aGlzLmNvbmZpZ09wdGlvbnMuZ3JvdXBCeUNvbHVtbnNbMl1dO1xuICAgICAgfSBlbHNlIGlmIChncm91cExldmVsID09IDEpIHtcbiAgICAgICAgZ3JvdXAwS2V5ID0gdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zWzBdO1xuICAgICAgICBncm91cDFLZXkgPSB0aGlzLmNvbmZpZ09wdGlvbnMuZ3JvdXBCeUNvbHVtbnNbMV07XG4gICAgICAgIGdyb3VwMFZhbCA9IERBVEFbaV1bdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zWzBdXTtcbiAgICAgICAgZ3JvdXAxVmFsID0gREFUQVtpXVt0aGlzLmNvbmZpZ09wdGlvbnMuZ3JvdXBCeUNvbHVtbnNbMV1dO1xuICAgICAgfSBlbHNlIGlmIChncm91cExldmVsID09IDApIHtcbiAgICAgICAgZ3JvdXAwS2V5ID0gdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zWzBdO1xuICAgICAgICBncm91cDFLZXkgPSB0aGlzLmNvbmZpZ09wdGlvbnMuZ3JvdXBCeUNvbHVtbnNbMV07XG4gICAgICAgIGdyb3VwMFZhbCA9IERBVEFbaV1bdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zWzBdXTtcbiAgICAgIH1cblxuICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IERBVEEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IGlzU2FtZUdyb3VwID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZ3JvdXBMZXZlbCA9PSAyKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGdyb3VwMEtleSAmJiBncm91cDBWYWwgIT09IERBVEFbal1bZ3JvdXAwS2V5XSkgfHxcbiAgICAgICAgICAgIChncm91cDFLZXkgJiYgZ3JvdXAxVmFsICE9PSBEQVRBW2pdW2dyb3VwMUtleV0pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpc1NhbWVHcm91cCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChncm91cExldmVsID09IDEpIHtcbiAgICAgICAgICBpZiAoZ3JvdXAwS2V5ICYmIGdyb3VwMFZhbCAhPT0gREFUQVtqXVtncm91cDBLZXldKSB7XG4gICAgICAgICAgICBpc1NhbWVHcm91cCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNTYW1lR3JvdXApIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50VmFsdWUgIT09IERBVEFbal1ba2V5XSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50Kys7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc3BhbnNbaV0pIHtcbiAgICAgICAgdGhpcy5zcGFuc1tpXSA9IHt9O1xuICAgICAgfVxuICAgICAgdGhpcy5zcGFuc1tpXVtrZXldID0gY291bnQ7XG4gICAgICBpICs9IGNvdW50O1xuICAgIH1cbiAgfVxuXG4gIGdldFJvd1NwYW4oY29sOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpIHtcbiAgICBsZXQgZ3JvdXBCeUNvbHM6IHN0cmluZ1tdID0gdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zO1xuICAgIGlmIChncm91cEJ5Q29scy5pbmRleE9mKGNvbCkgPiAtMSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3BhbnNbaW5kZXhdICYmIHRoaXMuc3BhbnNbaW5kZXhdW2NvbF07XG4gICAgfVxuICAgIHJldHVybiAxO1xuICB9XG4gIGdldFJvd1NwYW5EaXNwbGF5KGNvbDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSB7XG4gICAgbGV0IGRpc3BsYXlTdHIgPSAnJztcbiAgICBsZXQgZ3JvdXBCeUNvbHM6IHN0cmluZ1tdID0gdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zO1xuICAgIGlmIChncm91cEJ5Q29scy5pbmRleE9mKGNvbCkgPiAtMSkge1xuICAgICAgZGlzcGxheVN0ciA9IHRoaXMuc3BhbnNbaW5kZXhdICYmIHRoaXMuc3BhbnNbaW5kZXhdW2NvbF0gPyAnbm9uZScgOiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGRpc3BsYXlTdHI7XG4gIH1cblxuICBnZXRDb2x1bW5CeUlEKGNvbElkOiBzdHJpbmcpIHtcbiAgICBsZXQgY29sdW1uO1xuICAgIGxldCBjb2xJbmRleCA9IHRoaXMuY29uZmlnT3B0aW9ucy5hbGxDb2x1bW5zLmZpbmRJbmRleChcbiAgICAgICh4KSA9PiB4LmlkID09PSBjb2xJZFxuICAgICk7XG4gICAgaWYgKGNvbEluZGV4ID4gLTEpIHtcbiAgICAgIGNvbHVtbiA9IHRoaXMuY29uZmlnT3B0aW9ucy5hbGxDb2x1bW5zW2NvbEluZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbHVtbjtcbiAgfVxuXG4gIG9wZW5TbmFja0JhcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9zbmFja0Jhci5vcGVuKG1lc3NhZ2UsICcnLCB7XG4gICAgICBob3Jpem9udGFsUG9zaXRpb246IHRoaXMuaG9yaXpvbnRhbFBvc2l0aW9uLFxuICAgICAgdmVydGljYWxQb3NpdGlvbjogdGhpcy52ZXJ0aWNhbFBvc2l0aW9uLFxuICAgICAgZHVyYXRpb246IDUwMDAgLy8gNSBtaWxsaXNlY29uZHNcbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZUNvbHVtblZpc2liaWxpdHkoXG4gICAgaXNWaXNpYmxlOiBib29sZWFuLFxuICAgIGNvbElkOiBzdHJpbmcsXG4gICAgZXh0ZXJuYWxUcmlnZ2VyPzogYm9vbGVhbiB8IGZhbHNlXG4gICkge1xuICAgIHRoaXMudmlzaWJsZUNvbHVtbnMgPSB0aGlzLmNvbmZpZ09wdGlvbnMuYWxsQ29sdW1ucy5maWx0ZXIoXG4gICAgICAoY29sdW1uKSA9PiBjb2x1bW5bJ3Zpc2libGUnXVxuICAgICk7XG4gICAgaWYgKCFpc1Zpc2libGUgJiYgdGhpcy52aXNpYmxlQ29sdW1ucy5sZW5ndGggPT0gMSkge1xuICAgICAgdGhpcy5vcGVuU25hY2tCYXIoXG4gICAgICAgICdQbGVhc2UgbWFrZSBzdXJlIHRvIGhhdmUgYWxlYXN0IG9uZSBjb2x1bW4gaW4gdGhlIHJlcG9ydCEnXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBncm91cGVkQ29sSWRzOiBzdHJpbmdbXSA9IHRoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1ucztcbiAgICBsZXQgZ3JvdXBJbmRleCA9IGdyb3VwZWRDb2xJZHMuaW5kZXhPZihjb2xJZCk7XG4gICAgaWYgKGdyb3VwSW5kZXggPiAtMSAmJiAhaXNWaXNpYmxlKSB7XG4gICAgICBsZXQgY29sdW1uID0gdGhpcy5nZXRDb2x1bW5CeUlEKGNvbElkKTtcbiAgICAgIGlmIChjb2x1bW4pIHtcbiAgICAgICAgdGhpcy5yZW1vdmVHcm91cChjb2x1bW4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY29uZmlnT3B0aW9ucy5hbGxDb2x1bW5zLmZvckVhY2goKGNvbCkgPT4ge1xuICAgICAgaWYgKGNvbFsnaWQnXSA9PT0gY29sSWQpIHtcbiAgICAgICAgY29sWyd2aXNpYmxlJ10gPSBpc1Zpc2libGU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlT3JkZXJDb2x1bW5zKGNvbElkLCAnZW5kJyk7XG4gICAgdGhpcy5zZXRDb2x1bW5zVG9EaXNwbGF5KCk7XG4gICAgdGhpcy5vbkNvbmZpZ09wdGlvbnNDaGFuZ2UuZW1pdCh7XG4gICAgICBldmVudFR5cGU6IENvbnN0YW50cy5SRUZSRVNIX0NPTkZJRyxcbiAgICAgIGRhdGE6IHRoaXMuY29uZmlnT3B0aW9uc1xuICAgIH0pO1xuICAgIGlmICghZXh0ZXJuYWxUcmlnZ2VyKSB7XG4gICAgICBsZXQgX2V2ZW50TmFtZSA9IGlzVmlzaWJsZVxuICAgICAgICA/IENvbnN0YW50cy5BRERfQ09MVU1OXG4gICAgICAgIDogQ29uc3RhbnRzLlJFTU9WRV9DT0xVTU47XG4gICAgICB0aGlzLm9uQ29uZmlnT3B0aW9uc0NoYW5nZS5lbWl0KHtcbiAgICAgICAgZXZlbnRUeXBlOiBDb25zdGFudHMuV1JJVEVfVE9fVU5ET19SRURPLFxuICAgICAgICBldmVudE5hbWU6IF9ldmVudE5hbWUsXG4gICAgICAgIGRhdGE6IGNvbElkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBoaWRlQ29sdW1uKGNvbHVtbklkOiBzdHJpbmcpIHtcbiAgICB0aGlzLnRvZ2dsZUNvbHVtblZpc2liaWxpdHkoZmFsc2UsIGNvbHVtbklkKTtcbiAgfVxuICBzaG93Q29sdW1uKGV2ZW50OiBFdmVudCwgY29sdW1uOiBhbnkpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLnRvZ2dsZUNvbHVtblZpc2liaWxpdHkodHJ1ZSwgY29sdW1uLmlkKTtcbiAgfVxuXG4gIGRyb3AoZXZlbnQ6IENka0RyYWdEcm9wPHN0cmluZ1tdPikge1xuICAgIGxldCBfY29sdW1uc1RvRGlzcGxheSA9IHRoaXMuY29sdW1uc1RvRGlzcGxheTtcbiAgICBpZiAodGhpcy5jb25maWdPcHRpb25zLmVuYWJsZVJvd3NTZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMuY29sdW1uc1RvRGlzcGxheS5zcGxpY2UoMCwgMSk7XG4gICAgICBfY29sdW1uc1RvRGlzcGxheSA9IHRoaXMuY29sdW1uc1RvRGlzcGxheTtcbiAgICAgIG1vdmVJdGVtSW5BcnJheShcbiAgICAgICAgX2NvbHVtbnNUb0Rpc3BsYXksXG4gICAgICAgIGV2ZW50LnByZXZpb3VzSW5kZXgsXG4gICAgICAgIGV2ZW50LmN1cnJlbnRJbmRleFxuICAgICAgKTtcbiAgICAgIHRoaXMuY29sdW1uc1RvRGlzcGxheSA9IFsnc2VsZWN0ZWQnLCAuLi5fY29sdW1uc1RvRGlzcGxheV07XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vdmVJdGVtSW5BcnJheShcbiAgICAgICAgX2NvbHVtbnNUb0Rpc3BsYXksXG4gICAgICAgIGV2ZW50LnByZXZpb3VzSW5kZXgsXG4gICAgICAgIGV2ZW50LmN1cnJlbnRJbmRleFxuICAgICAgKTtcbiAgICAgIHRoaXMuY29sdW1uc1RvRGlzcGxheSA9IFsuLi5fY29sdW1uc1RvRGlzcGxheV07XG4gICAgfVxuICB9XG5cbiAgcmVPcmRlckNvbHVtbnMoXG4gICAgY29sdW1uTmFtZTogc3RyaW5nLFxuICAgIG1vdmVQb3NpdGlvbjogc3RyaW5nIHwgJ2xlZnQnIHwgJ3JpZ2h0JyB8ICdlbmQnIHwgJ2luZGV4JyB8ICdvcmlnaW5hbCdcbiAgKSB7XG4gICAgbGV0IHByZXZJbmRleCA9IHRoaXMuY29uZmlnT3B0aW9ucy5hbGxDb2x1bW5zLmZpbmRJbmRleChcbiAgICAgICh4KSA9PiB4LmlkID09PSBjb2x1bW5OYW1lXG4gICAgKTtcbiAgICBsZXQgbmV3SW5kZXg7XG4gICAgaWYgKG1vdmVQb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICBuZXdJbmRleCA9IHByZXZJbmRleCAtIDE7XG4gICAgfSBlbHNlIGlmIChtb3ZlUG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgIG5ld0luZGV4ID0gcHJldkluZGV4ICsgMTtcbiAgICB9IGVsc2UgaWYgKG1vdmVQb3NpdGlvbiA9PT0gJ2luZGV4Jykge1xuICAgICAgbmV3SW5kZXggPSB0aGlzLmNvbmZpZ09wdGlvbnMuZ3JvdXBCeUNvbHVtbnMubGVuZ3RoIC0gMTtcbiAgICB9IGVsc2UgaWYgKG1vdmVQb3NpdGlvbiA9PT0gJ29yaWdpbmFsJykge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNvbmZpZ09wdGlvbnMuYWxsQ29sdW1ucy5maW5kSW5kZXgoXG4gICAgICAgIChjb2wpID0+IGNvbC5pZCA9PT0gY29sdW1uTmFtZVxuICAgICAgKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIG5ld0luZGV4ID1cbiAgICAgICAgICB0aGlzLmNvbmZpZ09wdGlvbnMuYWxsQ29sdW1uc1tpbmRleF0ub3JpZ2luYWxPcmRlciB8fFxuICAgICAgICAgIHRoaXMuY29uZmlnT3B0aW9ucy5hbGxDb2x1bW5zLmxlbmd0aDtcbiAgICAgICAgbmV3SW5kZXggPSBuZXdJbmRleCAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdJbmRleCA9IHRoaXMuY29uZmlnT3B0aW9ucy5hbGxDb2x1bW5zLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3SW5kZXggPSB0aGlzLmNvbmZpZ09wdGlvbnMuYWxsQ29sdW1ucy5sZW5ndGg7XG4gICAgfVxuICAgIG1vdmVJdGVtSW5BcnJheSh0aGlzLmNvbmZpZ09wdGlvbnMuYWxsQ29sdW1ucywgcHJldkluZGV4LCBuZXdJbmRleCk7XG4gICAgdGhpcy5jb25maWdPcHRpb25zLmFsbENvbHVtbnMuZm9yRWFjaCgoY29sdW1uOiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbHVtbi5vcmRlciA9IGluZGV4ICsgMTtcbiAgICB9KTtcbiAgICB0aGlzLnJlcGFpbnRUYWJsZSgpO1xuICB9XG5cbiAgbW92ZUxlZnQoY29sdW1uTmFtZTogc3RyaW5nKSB7XG4gICAgbGV0IF9jb2x1bW5zVG9EaXNwbGF5ID0gdGhpcy5jb2x1bW5zVG9EaXNwbGF5O1xuICAgIGlmICh0aGlzLmNvbmZpZ09wdGlvbnMuZW5hYmxlUm93c1NlbGVjdGlvbikge1xuICAgICAgdGhpcy5jb2x1bW5zVG9EaXNwbGF5LnNwbGljZSgwLCAxKTtcbiAgICAgIF9jb2x1bW5zVG9EaXNwbGF5ID0gdGhpcy5jb2x1bW5zVG9EaXNwbGF5O1xuICAgICAgbGV0IHByZXZJbmRleCA9IF9jb2x1bW5zVG9EaXNwbGF5LmluZGV4T2YoY29sdW1uTmFtZSk7XG4gICAgICBsZXQgY3VycmVudEluZGV4ID0gcHJldkluZGV4IC0gMTtcbiAgICAgIG1vdmVJdGVtSW5BcnJheShfY29sdW1uc1RvRGlzcGxheSwgcHJldkluZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgdGhpcy5yZU9yZGVyQ29sdW1ucyhjb2x1bW5OYW1lLCAnbGVmdCcpO1xuICAgICAgdGhpcy5jb2x1bW5zVG9EaXNwbGF5ID0gWydzZWxlY3RlZCcsIC4uLl9jb2x1bW5zVG9EaXNwbGF5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHByZXZJbmRleCA9IF9jb2x1bW5zVG9EaXNwbGF5LmluZGV4T2YoY29sdW1uTmFtZSk7XG4gICAgICBsZXQgY3VycmVudEluZGV4ID0gcHJldkluZGV4IC0gMTtcbiAgICAgIG1vdmVJdGVtSW5BcnJheShfY29sdW1uc1RvRGlzcGxheSwgcHJldkluZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgdGhpcy5yZU9yZGVyQ29sdW1ucyhjb2x1bW5OYW1lLCAnbGVmdCcpO1xuICAgICAgdGhpcy5jb2x1bW5zVG9EaXNwbGF5ID0gWy4uLl9jb2x1bW5zVG9EaXNwbGF5XTtcbiAgICB9XG4gIH1cblxuICBtb3ZlUmlnaHQoY29sdW1uTmFtZTogc3RyaW5nKSB7XG4gICAgbGV0IF9jb2x1bW5zVG9EaXNwbGF5ID0gdGhpcy5jb2x1bW5zVG9EaXNwbGF5O1xuICAgIGlmICh0aGlzLmNvbmZpZ09wdGlvbnMuZW5hYmxlUm93c1NlbGVjdGlvbikge1xuICAgICAgdGhpcy5jb2x1bW5zVG9EaXNwbGF5LnNwbGljZSgwLCAxKTtcbiAgICAgIF9jb2x1bW5zVG9EaXNwbGF5ID0gdGhpcy5jb2x1bW5zVG9EaXNwbGF5O1xuICAgICAgbGV0IHByZXZJbmRleCA9IF9jb2x1bW5zVG9EaXNwbGF5LmluZGV4T2YoY29sdW1uTmFtZSk7XG4gICAgICBsZXQgY3VycmVudEluZGV4ID0gcHJldkluZGV4ICsgMTtcbiAgICAgIG1vdmVJdGVtSW5BcnJheShfY29sdW1uc1RvRGlzcGxheSwgcHJldkluZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgdGhpcy5yZU9yZGVyQ29sdW1ucyhjb2x1bW5OYW1lLCAncmlnaHQnKTtcbiAgICAgIHRoaXMuY29sdW1uc1RvRGlzcGxheSA9IFsnc2VsZWN0ZWQnLCAuLi5fY29sdW1uc1RvRGlzcGxheV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwcmV2SW5kZXggPSBfY29sdW1uc1RvRGlzcGxheS5pbmRleE9mKGNvbHVtbk5hbWUpO1xuICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IHByZXZJbmRleCArIDE7XG4gICAgICBtb3ZlSXRlbUluQXJyYXkoX2NvbHVtbnNUb0Rpc3BsYXksIHByZXZJbmRleCwgY3VycmVudEluZGV4KTtcbiAgICAgIHRoaXMucmVPcmRlckNvbHVtbnMoY29sdW1uTmFtZSwgJ3JpZ2h0Jyk7XG4gICAgICB0aGlzLmNvbHVtbnNUb0Rpc3BsYXkgPSBbLi4uX2NvbHVtbnNUb0Rpc3BsYXldO1xuICAgIH1cbiAgfVxuXG4gIGlzU3RpY2t5KHN0aWNreUNvbHVtbnM6IHN0cmluZ1tdLCBpZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0aWNreUNvbHVtbnMuaW5kZXhPZihpZCkgIT09IC0xO1xuICB9XG4gIGlzU3RpY2t5RW5kKHN0aWNreUVuZENvbHVtbnM6IHN0cmluZ1tdLCBpZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0aWNreUVuZENvbHVtbnMuaW5kZXhPZihpZCkgIT09IC0xO1xuICB9XG5cbiAgc3RpY2soY29sdW1uTmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKCF0aGlzLnN0aWNreUNvbHVtbnMuaW5jbHVkZXMoY29sdW1uTmFtZSkpIHtcbiAgICAgIHRoaXMuc3RpY2t5Q29sdW1ucy5wdXNoKGNvbHVtbk5hbWUpO1xuICAgIH1cbiAgICB0aGlzLmNvbmZpZ09wdGlvbnMuYWxsQ29sdW1ucy5mb3JFYWNoKChjb2x1bW46IGFueSkgPT4ge1xuICAgICAgaWYgKGNvbHVtbi5pZCA9PT0gY29sdW1uTmFtZSkge1xuICAgICAgICBjb2x1bW4uc3RpY2t5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHN0aWNrVG9FbmQoY29sdW1uTmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5zdGlja3lFbmRDb2x1bW5zLnB1c2goY29sdW1uTmFtZSk7XG4gIH1cblxuICB1bnN0aWNrKGNvbHVtbk5hbWU6IHN0cmluZykge1xuICAgIHRoaXMuc3RpY2t5Q29sdW1ucyA9IHRoaXMuc3RpY2t5Q29sdW1ucy5maWx0ZXIoKGNvbCkgPT4gY29sICE9PSBjb2x1bW5OYW1lKTtcbiAgICB0aGlzLmNvbmZpZ09wdGlvbnMuYWxsQ29sdW1ucy5mb3JFYWNoKChjb2x1bW46IGFueSkgPT4ge1xuICAgICAgaWYgKGNvbHVtbk5hbWUgPT09IGNvbHVtbi5pZCkge1xuICAgICAgICBjb2x1bW4uc3RpY2t5ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdW5zdGlja0VuZChjb2x1bW5OYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuc3RpY2t5RW5kQ29sdW1ucy5pbmRleE9mKGNvbHVtbk5hbWUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLnN0aWNreUVuZENvbHVtbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICAvKiogV2hldGhlciB0aGUgbnVtYmVyIG9mIHNlbGVjdGVkIGVsZW1lbnRzIG1hdGNoZXMgdGhlIHRvdGFsIG51bWJlciBvZiByb3dzLiAqL1xuICBpc0FsbFNlbGVjdGVkKCkge1xuICAgIGNvbnN0IG51bVNlbGVjdGVkID0gdGhpcy5zZWxlY3Rpb24uc2VsZWN0ZWQubGVuZ3RoO1xuICAgIGNvbnN0IG51bVJvd3MgPSB0aGlzLmRhdGFTb3VyY2UuZGF0YS5sZW5ndGg7XG4gICAgcmV0dXJuIG51bVNlbGVjdGVkID09PSBudW1Sb3dzO1xuICB9XG5cbiAgLyoqIFNlbGVjdHMgYWxsIHJvd3MgaWYgdGhleSBhcmUgbm90IGFsbCBzZWxlY3RlZDsgb3RoZXJ3aXNlIGNsZWFyIHNlbGVjdGlvbi4gKi9cbiAgbWFzdGVyVG9nZ2xlKCkge1xuICAgIGlmICh0aGlzLmlzQWxsU2VsZWN0ZWQoKSkge1xuICAgICAgdGhpcy5zZWxlY3Rpb24uY2xlYXIoKTtcblxuICAgICAgdGhpcy5yb3dMZXZlbEFjdGlvbkhhbmRsZXIuZW1pdCh7XG4gICAgICAgIGFjdGlvbjogJ3RvZ2dsZUFsbFJvd3MnLFxuICAgICAgICBkYXRhOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucm93TGV2ZWxBY3Rpb25IYW5kbGVyLmVtaXQoe1xuICAgICAgYWN0aW9uOiAndG9nZ2xlQWxsUm93cycsXG4gICAgICBkYXRhOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0KC4uLnRoaXMuZGF0YVNvdXJjZS5kYXRhKTtcbiAgfVxuXG4gIC8qKiBUaGUgbGFiZWwgZm9yIHRoZSBjaGVja2JveCBvbiB0aGUgcGFzc2VkIHJvdyAqL1xuICBjaGVja2JveExhYmVsKHJvdz86IGFueSk6IHN0cmluZyB7XG4gICAgaWYgKCFyb3cpIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLmlzQWxsU2VsZWN0ZWQoKSA/ICdkZXNlbGVjdCcgOiAnc2VsZWN0J30gYWxsYDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3RoaXMuc2VsZWN0aW9uLmlzU2VsZWN0ZWQocm93KSA/ICdkZXNlbGVjdCcgOiAnc2VsZWN0J30gcm93ICR7XG4gICAgICByb3cucG9zaXRpb24gKyAxXG4gICAgfWA7XG4gIH1cblxuICB0b2dnbGVSb3dTZWxlY3Qocm93OiBhbnkpIHtcbiAgICBpZiAocm93KSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbi50b2dnbGUocm93KTtcbiAgICAgIHRoaXMucm93TGV2ZWxBY3Rpb25IYW5kbGVyLmVtaXQoe1xuICAgICAgICBhY3Rpb246ICd0b2dnbGVSb3dTZWxlY3QnLFxuICAgICAgICBkYXRhOiByb3dcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2VsbENsaWNrKHJvdzogYW55LCBjb2x1bW5JZDogYW55LCBjb250cm9sVHlwZTogYW55LCBlbGVtZW50ID0gbnVsbCkge1xuICAgIGlmIChjb250cm9sVHlwZSAhPT0gJ21lbnUnKSB7XG4gICAgICBpZiAoIWVsZW1lbnQpXG4gICAgICAgIHRoaXMuY2VsbENsaWNrQWN0aW9uSGFuZGxlci5lbWl0KHtcbiAgICAgICAgICByb3csXG4gICAgICAgICAgY29sdW1uSWQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiB0aGlzLnNjcm9sbFRvcCA/IHRoaXMuc2Nyb2xsVG9wIDogMFxuICAgICAgICB9KTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5jZWxsQ2xpY2tBY3Rpb25IYW5kbGVyLmVtaXQoe1xuICAgICAgICAgIHJvdyxcbiAgICAgICAgICBjb2x1bW5JZCxcbiAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgIHNjcm9sbFRvcDogdGhpcy5zY3JvbGxUb3AgPyB0aGlzLnNjcm9sbFRvcCA6IDBcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb25NZW51QnV0dG9uQ2xpY2socm93OiBhbnksIGNvbHVtbklkOiBhbnksIG9wdGlvbjogYW55KSB7XG4gICAgdGhpcy5jZWxsQ2xpY2tBY3Rpb25IYW5kbGVyLmVtaXQoe1xuICAgICAgcm93LFxuICAgICAgY29sdW1uSWQsXG4gICAgICBvcHRpb25cbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0VGFibGVTY3JvbGwoKSB7XG4gICAgaWYgKCF0aGlzLmRhdGFTb3VyY2UuZGF0YS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY29uZmlnT3B0aW9ucy50YWJsZUhlaWdodCA9ICc2MHB4JztcbiAgICB9XG5cbiAgICAvLyBjb21tZW50ZWQgdGhpcyBsaW5lIG9mIGNvZGUgdG8gbm90IHRvIHNjcm9sbCB0byB0b3AgZGlyZWN0bHlcbiAgICAvLyBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hdFRhYmxlTWFpbicpO1xuICAgIC8vIGlmIChlbGVtZW50KSB7XG4gICAgLy8gICBlbGVtZW50LnNjcm9sbFRvcCA9IDA7XG4gICAgLy8gfVxuICB9XG4gIHJlcGFpbnRUYWJsZSgpIHtcbiAgICB0aGlzLmdyb3VwQW5kU29ydCh0aGlzLmRhdGFTb3VyY2UuZGF0YSk7XG5cbiAgICB0aGlzLnNwYW5zID0gW107XG4gICAgdGhpcy5jb25maWdPcHRpb25zLmdyb3VwQnlDb2x1bW5zLmZvckVhY2goKGNvbDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICB0aGlzLmNhY2hlU3Bhbihjb2wsIGluZGV4KTtcbiAgICB9KTtcbiAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmcy5kZXRlY3RDaGFuZ2VzKCk7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgdGhpcy5kYXRhU291cmNlLnBhZ2luYXRvciA9IHRoaXMucGFnaW5hdG9yO1xuICAgIGlmICh0aGlzLmNvbmZpZ09wdGlvbnM/LmRlZmF1bHRTb3J0Q29sdW1uKSB7XG4gICAgICB0aGlzLnNvcnQuYWN0aXZlID0gdGhpcy5jb25maWdPcHRpb25zLmRlZmF1bHRTb3J0Q29sdW1uO1xuICAgICAgdGhpcy5zb3J0LmRpcmVjdGlvbiA9IHRoaXMuY29uZmlnT3B0aW9ucz8uZGVmYXVsdFNvcnREaXJlY3Rpb25cbiAgICAgICAgPyB0aGlzLmNvbmZpZ09wdGlvbnMuZGVmYXVsdFNvcnREaXJlY3Rpb25cbiAgICAgICAgOiAnYXNjJztcbiAgICB9XG4gICAgdGhpcy5kYXRhU291cmNlLnNvcnQgPSB0aGlzLnNvcnQ7XG4gICAgdGhpcy5yZXNldFRhYmxlU2Nyb2xsKCk7XG4gICAgdGhpcy5yZXBhaW50VGFibGUoKTtcbiAgfVxuXG4gIGV2YWx1YXRlQ29uZGl0aW9uKHJvd0RhdGE6IGFueSwgaXRlbTogYW55ID0geyBjb25kaXRpb246IHRydWUgfSkge1xuICAgIGlmIChpdGVtLmNvbmRpdGlvbiA9PT0gdHJ1ZSB8fCBpdGVtLmNvbmRpdGlvbiA9PT0gZmFsc2UpXG4gICAgICByZXR1cm4gaXRlbS5jb25kaXRpb247XG5cbiAgICBjb25zdCB7IG9wZXJhdGlvbiwgb3BlcmFuZCwgZmllbGROYW1lLCBkZXBlbmRlbnRGaWVsZE5hbWUgfSA9XG4gICAgICBpdGVtLmNvbmRpdGlvbjtcblxuICAgIGNvbnN0IGZpZWxkVmFsdWUgPSByb3dEYXRhW2ZpZWxkTmFtZV07XG5cbiAgICBjb25zdCBkZXBlbmRlbnRGaWVsZFZhbHVlID0gZGVwZW5kZW50RmllbGROYW1lXG4gICAgICA/IHJvd0RhdGFbZGVwZW5kZW50RmllbGROYW1lXVxuICAgICAgOiB0cnVlO1xuXG4gICAgaWYgKGRlcGVuZGVudEZpZWxkVmFsdWUgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xuICAgICAgY2FzZSAnPSc6XG4gICAgICAgIHJldHVybiBmaWVsZFZhbHVlID09PSBvcGVyYW5kO1xuICAgICAgY2FzZSAnIT0nOlxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZSAhPT0gb3BlcmFuZDtcbiAgICAgIGNhc2UgJz4nOlxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZSA+IG9wZXJhbmQ7XG4gICAgICBjYXNlICc8JzpcbiAgICAgICAgcmV0dXJuIGZpZWxkVmFsdWUgPCBvcGVyYW5kO1xuICAgICAgY2FzZSAnPj0nOlxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZSA+PSBvcGVyYW5kO1xuICAgICAgY2FzZSAnPD0nOlxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZSA8PSBvcGVyYW5kO1xuICAgICAgY2FzZSAnY29udGFpbnMnOlxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZVxuICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAuaW5jbHVkZXMob3BlcmFuZC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgY2FzZSAnbm90Q29udGFpbnMnOlxuICAgICAgICByZXR1cm4gIWZpZWxkVmFsdWVcbiAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgLmluY2x1ZGVzKG9wZXJhbmQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIGNhc2UgJ3N0YXJ0c1dpdGgnOlxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZVxuICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAuc3RhcnRzV2l0aChvcGVyYW5kLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSk7XG4gICAgICBjYXNlICdlbmRzV2l0aCc6XG4gICAgICAgIHJldHVybiBmaWVsZFZhbHVlXG4gICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgIC5lbmRzV2l0aChvcGVyYW5kLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSk7XG4gICAgICBjYXNlICdpbic6XG4gICAgICAgIHJldHVybiBvcGVyYW5kLmluY2x1ZGVzKGZpZWxkVmFsdWUpO1xuICAgICAgY2FzZSAnbm90SW4nOlxuICAgICAgICByZXR1cm4gIW9wZXJhbmQuaW5jbHVkZXMoZmllbGRWYWx1ZSk7XG4gICAgICBjYXNlICdpc051bGwnOlxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZSA9PT0gbnVsbDtcbiAgICAgIGNhc2UgJ2lzTm90TnVsbCc6XG4gICAgICAgIHJldHVybiBmaWVsZFZhbHVlICE9PSBudWxsO1xuICAgICAgY2FzZSAnaXNFbXB0eSc6XG4gICAgICAgIHJldHVybiBmaWVsZFZhbHVlID09PSAnJztcbiAgICAgIGNhc2UgJ2lzTm90RW1wdHknOlxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZSAhPT0gJyc7XG4gICAgICBjYXNlICdpc1RydWUnOlxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZSA9PT0gdHJ1ZTtcbiAgICAgIGNhc2UgJ2lzRmFsc2UnOlxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZSA9PT0gZmFsc2U7XG4gICAgICBjYXNlICdpc1RydXRoeSc6XG4gICAgICAgIHJldHVybiAhIWZpZWxkVmFsdWU7XG4gICAgICBjYXNlICdpc0ZhbHN5JzpcbiAgICAgICAgcmV0dXJuICFmaWVsZFZhbHVlO1xuICAgICAgY2FzZSAnaXNUb2RheSc6XG4gICAgICAvLyB0b2RvXG4gICAgICBjYXNlICdpc1RoaXNXZWVrJzpcbiAgICAgIC8vdG9kb1xuICAgICAgY2FzZSAnaXNUaGlzTW9udGgnOlxuICAgICAgLy90b2RvXG4gICAgfVxuICB9XG5cbiAgZ2V0Q29uZGl0aW9uYWxTdHlsZXMoZXhpc3RpbmdTdHlsZXM6IGFueSwgcm93RGF0YTogYW55LCBjb2x1bW46IENvbHVtbikge1xuICAgIGxldCBzdHlsZXMgPSB7IC4uLmV4aXN0aW5nU3R5bGVzIH07XG4gICAgaWYgKGNvbHVtbi5oYXNDb25kaXRpb25hbFN0eWxlcykge1xuICAgICAgY29uc3QgY29uZGl0aW9uYWxTdHlsZXMgPSB0aGlzLmNvbmZpZ09wdGlvbnMuY29uZGl0aW9uYWxTdHlsZXM7XG4gICAgICBsZXQgdmFsdWUgPSByb3dEYXRhW2NvbHVtbi5pZF07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3R5bGUgPSBjb25kaXRpb25hbFN0eWxlc1t2YWx1ZV07XG4gICAgICBzdHlsZXMgPSB7IC4uLnN0eWxlcywgLi4uc3R5bGUgfTtcbiAgICB9XG5cbiAgICBpZihjb2x1bW4/Lmhhc01hdFRvb2xUaXApe1xuICAgICAgXG5cbiAgICAgY29uc3Qgc3R5bGU9ICB7ICd3aGl0ZS1zcGFjZSc6ICdub3dyYXAnLCAnZGlzcGxheSc6J2Jsb2NrJywgJ292ZXJmbG93JzogJ2hpZGRlbicsJ3RleHQtb3ZlcmZsb3cnOidlbGxpcHNpcycsJ21heC13aWR0aCc6JzE2MHB4JyB9XG4gICAgIHN0eWxlcz17Li4uc3R5bGVzLC4uLnN0eWxlfVxuXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHJvd0RhdGFbY29sdW1uLmlkICsgJ19zdHlsZXMnXSAmJlxuICAgICAgdHlwZW9mIHJvd0RhdGFbY29sdW1uLmlkICsgJ19zdHlsZXMnXSA9PT0gJ29iamVjdCdcbiAgICApIHtcbiAgICAgIHN0eWxlcyA9IHsgLi4uc3R5bGVzLCAuLi5yb3dEYXRhW2NvbHVtbi5pZCArICdfc3R5bGVzJ10gfTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfVxuXG4gIGV2YWx1YXRlRXhwcmVzc2lvbihyb3dEYXRhOiBhbnksIGNvbHVtbjogQ29sdW1uKSB7XG4gICAgbGV0IHN0eWxlcyA9IHt9O1xuXG4gICAgbGV0IGdyb3VwZWRDb2x1bW5zOiBzdHJpbmdbXSA9IHRoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1ucztcbiAgICBsZXQgaW5kZXggPSBncm91cGVkQ29sdW1ucy5pbmRleE9mKGNvbHVtbi5pZCk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHN0eWxlcyA9IHtcbiAgICAgICAgLi4uc3R5bGVzLFxuICAgICAgICBiYWNrZ3JvdW5kOiB0aGlzLmNvbmZpZ09wdGlvbnMuZ3JvdXBMZXZlbENvbG9yc1tpbmRleF1cbiAgICAgICAgICA/IHRoaXMuY29uZmlnT3B0aW9ucy5ncm91cExldmVsQ29sb3JzW2luZGV4XVxuICAgICAgICAgIDogJydcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbHVtbi5vcGVyYXRpb25zPy5mb3JFYWNoKChvcCkgPT4ge1xuICAgICAgc3dpdGNoIChvcC5vcGVyYXRpb24pIHtcbiAgICAgICAgY2FzZSAnZ3QnOlxuICAgICAgICAgIGlmIChyb3dEYXRhW2NvbHVtbi5pZF0gPiBvcC52YWx1ZSkge1xuICAgICAgICAgICAgc3R5bGVzID0geyAuLi5zdHlsZXMsIC4uLm9wLnN0eWxlcyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbHQnOlxuICAgICAgICAgIGlmIChyb3dEYXRhW2NvbHVtbi5pZF0gPCBvcC52YWx1ZSkge1xuICAgICAgICAgICAgc3R5bGVzID0geyAuLi5zdHlsZXMsIC4uLm9wLnN0eWxlcyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZXF1YWwnOlxuICAgICAgICAgIGlmIChyb3dEYXRhW2NvbHVtbi5pZF0gPT09IG9wLnZhbHVlKSB7XG4gICAgICAgICAgICBzdHlsZXMgPSB7IC4uLnN0eWxlcywgLi4ub3Auc3R5bGVzIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzdHlsZXM7XG4gIH1cblxuICBnZXREaXNwbGF5VmFsdWVzKHZhbHVlOiBzdHJpbmcsIHNlcGFyYXRvciA9ICcsJykge1xuICAgIHJldHVybiB2YWx1ZSA/IHZhbHVlLnNwbGl0KHNlcGFyYXRvcikgOiBbXTtcbiAgfVxuXG4gIGdldERpc3BsYXlUeXBlKGVsZW1lbnQ6IGFueSwgY29sdW1uOiBhbnksIHZhbHVlOiBhbnkpIHtcbiAgICBjb25zdCBzdGF0dXMgPSBlbGVtZW50W2NvbHVtbi5jb250cm9sVmFsdWU/LmRlcGVuZGVudEZpZWxkSWRdO1xuICAgIGlmICh2YWx1ZT8uZGVwZW5kZW50RmllbGRWYWx1ZXM/Lmxlbmd0aCkge1xuICAgICAgaWYgKHZhbHVlPy5kZXBlbmRlbnRGaWVsZFZhbHVlcy5pbmNsdWRlcyhzdGF0dXM/LnRvTG93ZXJDYXNlKCkpKVxuICAgICAgICB2YWx1ZS5kaXNwbGF5VHlwZSA9ICdkcm9wZG93bic7XG4gICAgICBlbHNlIHZhbHVlLmRpc3BsYXlUeXBlID0gJ3RleHQnO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZS5kaXNwbGF5VHlwZTtcbiAgfVxuXG4gIG9uVG9nZ2xlQ2hhbmdlKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLm9uVG9nZ2xlQ2hhbmdlSGFuZGxlci5lbWl0KGV2ZW50LmNoZWNrZWQpO1xuICB9XG4gIHNjcm9sbFRvVG9wKCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWF0VGFibGVNYWluJyk7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0gMDtcbiAgICB9XG4gIH1cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLnNjcm9sbFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9XG4gIHJlc2V0U2VsZWN0aW9uKCkge1xuICAgIHRoaXMuc2VsZWN0aW9uID0gbmV3IFNlbGVjdGlvbk1vZGVsPGFueT4odHJ1ZSwgdGhpcy5zZWxlY3RlZFJvd3MpO1xuICB9XG5cbiAgLy8gc29ydERhdGFTb3VyY2UoaWRWYWw6IHN0cmluZywgc3RhcnRWYWw/OiAnYXNjJyB8ICdkZXNjJyk6IHZvaWQge1xuICAvLyAgIHRoaXMuZGF0YVNvdXJjZS5zb3J0Py5zb3J0KDxNYXRTb3J0YWJsZT4oeyBpZDogaWRWYWwsIHN0YXJ0OiBzdGFydFZhbH0pKTtcbiAgLy8gfVxuXG4gIG9uVmFsQ2hhbmdlKGVsZW1lbnQ6IGFueSwgdmFsOiBhbnkpIHtcbiAgICB0aGlzLm9uU2VsZWN0QnV0dG9uVG9nZ2xlLmVtaXQoeyBlbGVtZW50LCB2YWwgfSk7XG4gIH1cbn1cbiIsIjxkaXY+XG4gIDxkaXYgY2xhc3M9XCJsZWZ0UGFuZWxcIiAqbmdJZj1cImNvbmZpZ09wdGlvbnMuZGlzcGxheUZpbHRlclBhbmVsXCI+XG4gICAgPGN3cC10YWJsZS1maWx0ZXItcGFuZWxcbiAgICAgIFtjb25maWdPcHRpb25zXT1cImNvbmZpZ09wdGlvbnNcIlxuICAgICAgKGV2ZW50c0hhbmRsZXIpPVwiaGFuZGxlRXZlbnQoJGV2ZW50KVwiXG4gICAgPjwvY3dwLXRhYmxlLWZpbHRlci1wYW5lbD5cbiAgPC9kaXY+XG4gIDxkaXZcbiAgICBbbmdDbGFzc109XCJcbiAgICAgIGNvbmZpZ09wdGlvbnMuZGlzcGxheUZpbHRlclBhbmVsID8gJ3RhYmxlTWFpbkNvbnRlbnQnIDogJ3RhYmxlRnVsbFdpZHRoJ1xuICAgIFwiXG4gID5cbiAgICA8ZGl2IGNsYXNzPVwidGFibGVNYWluXCIgaWQ9XCJ0YWJsZU1haW5cIiAoc2Nyb2xsKT1cIm9uVGFibGVTY3JvbGwoJGV2ZW50KVwiPlxuICAgICAgPHRhYmxlXG4gICAgICAgIGlkPVwibWF0VGFibGVNYWluXCJcbiAgICAgICAgbWF0LXRhYmxlXG4gICAgICAgIGNsYXNzPVwibWF0LWVsZXZhdGlvbi16MCBkeW5hbWljdGFibGVcIlxuICAgICAgICBbZGF0YVNvdXJjZV09XCJkYXRhU291cmNlXCJcbiAgICAgICAgbWF0U29ydFxuICAgICAgICBtdWx0aVRlbXBsYXRlRGF0YVJvd3NcbiAgICAgICAgY2RrRHJvcExpc3RcbiAgICAgICAgW25nU3R5bGVdPVwie1xuICAgICAgICAgIHdpZHRoOiBjb25maWdPcHRpb25zLnRhYmxlV2lkdGgsXG4gICAgICAgICAgJ21heC1oZWlnaHQnOiBjb25maWdPcHRpb25zLnRhYmxlSGVpZ2h0XG4gICAgICAgIH1cIlxuICAgICAgICBjZGtEcm9wTGlzdE9yaWVudGF0aW9uPVwiaG9yaXpvbnRhbFwiXG4gICAgICAgIChjZGtEcm9wTGlzdERyb3BwZWQpPVwiZHJvcCgkZXZlbnQpXCJcbiAgICAgICAgKHNjcm9sbCk9XCJvblRhYmxlU2Nyb2xsKCRldmVudClcIlxuICAgICAgPlxuICAgICAgICA8IS0tIENoZWNrYm94IENvbHVtbiAtLT5cbiAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgIG1hdENvbHVtbkRlZj1cInNlbGVjdGVkXCJcbiAgICAgICAgICAqbmdJZj1cImNvbmZpZ09wdGlvbnMuZW5hYmxlUm93c1NlbGVjdGlvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmIGNsYXNzPVwidy01MCByb3dzZWxlY3QtY2hlY2tib3hcIj5cbiAgICAgICAgICAgIDxtYXQtY2hlY2tib3hcbiAgICAgICAgICAgICAgKGNoYW5nZSk9XCIkZXZlbnQgPyBtYXN0ZXJUb2dnbGUoKSA6IG51bGxcIlxuICAgICAgICAgICAgICBbY2hlY2tlZF09XCJzZWxlY3Rpb24uaGFzVmFsdWUoKSAmJiBpc0FsbFNlbGVjdGVkKClcIlxuICAgICAgICAgICAgICBbaW5kZXRlcm1pbmF0ZV09XCJzZWxlY3Rpb24uaGFzVmFsdWUoKSAmJiAhaXNBbGxTZWxlY3RlZCgpXCJcbiAgICAgICAgICAgICAgW2FyaWEtbGFiZWxdPVwiY2hlY2tib3hMYWJlbCgpXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvbWF0LWNoZWNrYm94PlxuICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IHJvd1wiIGNsYXNzPVwidy01MFwiPlxuICAgICAgICAgICAgPG1hdC1jaGVja2JveFxuICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiXG4gICAgICAgICAgICAgICAgY29uZmlnT3B0aW9ucy5lbmFibGVSb3dzU2VsZWN0aW9uICYmXG4gICAgICAgICAgICAgICAgIWV2YWx1YXRlQ29uZGl0aW9uKHJvdywgY29uZmlnT3B0aW9ucy5lbmFibGVSb3dMZXZlbEFjdGlvbnMpXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAoY2hhbmdlKT1cIiRldmVudCA/IHRvZ2dsZVJvd1NlbGVjdChyb3cpIDogbnVsbFwiXG4gICAgICAgICAgICAgIFtjaGVja2VkXT1cIlxuICAgICAgICAgICAgICAgIGNvbmZpZ09wdGlvbnMuZW5hYmxlUm93c1NlbGVjdGlvbiAmJlxuICAgICAgICAgICAgICAgIGV2YWx1YXRlQ29uZGl0aW9uKHJvdywgY29uZmlnT3B0aW9ucy5lbmFibGVSb3dMZXZlbEFjdGlvbnMpICYmXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLmlzU2VsZWN0ZWQocm93KVxuICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICBbYXJpYS1sYWJlbF09XCJjaGVja2JveExhYmVsKHJvdylcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9tYXQtY2hlY2tib3g+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDwhLS0gT3RoZXIgRHluYW1pYyBDb2x1bW5zIC0tPlxuICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgW21hdENvbHVtbkRlZl09XCJjb2x1bW4uaWRcIlxuICAgICAgICAgIFtzdGlja3ldPVwiaXNTdGlja3koc3RpY2t5Q29sdW1ucywgY29sdW1uLmlkKVwiXG4gICAgICAgICAgW3N0aWNreUVuZF09XCJpc1N0aWNreUVuZChzdGlja3lFbmRDb2x1bW5zLCBjb2x1bW4uaWQpXCJcbiAgICAgICAgICAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGRpc3BsYXllZENvbHVtbnNcIlxuICAgICAgICA+XG4gICAgICAgICAgPHRoXG4gICAgICAgICAgICBtYXQtaGVhZGVyLWNlbGxcbiAgICAgICAgICAgIGNka0RyYWdcbiAgICAgICAgICAgIFtjZGtEcmFnRGlzYWJsZWRdPVwiIWNvbHVtbi5tb3ZhYmxlXCJcbiAgICAgICAgICAgICptYXRIZWFkZXJDZWxsRGVmXG4gICAgICAgICAgICBjbGFzcz1cInRhYmxlSGVhZGVyQ2VsbCB0YWJsZS1jb2x1bW5cIlxuICAgICAgICAgICAgW2Rpc2FibGVDbGVhcl09XCJ0cnVlXCJcbiAgICAgICAgICAgIG1hdC1zb3J0LWhlYWRlclxuICAgICAgICAgICAgW2Rpc2FibGVkXT1cIiFjb2x1bW4uc29ydGFibGVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDwhLS0gPHRoIG1hdC1oZWFkZXItY2VsbCBjZGtEcmFnIFtjZGtEcmFnRGlzYWJsZWRdPVwiY29sdW1uLmRpc2FibGVkXCIgKm1hdEhlYWRlckNlbGxEZWYgY2xhc3M9XCJ0YWJsZUhlYWRlckNlbGxcIj4gLS0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyQ2VsbFwiPlxuICAgICAgICAgICAgICA8ZGl2IGlkPVwiZHluYW1pY3RhYmxlSGVhZENlbGxOYW1lXCIgY2xhc3M9XCJoZWFkZXJDZWxsTGFiZWxcIj5cbiAgICAgICAgICAgICAgICB7eyBjb2x1bW4uZGlzcGxheU5hbWUgfX1cbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cImNvbHVtbi5zb3J0YWJsZSA9PT0gdHJ1ZVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVTb3J0QXNjXCJcbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJcbiAgICAgICAgICAgICAgICAgICAgICBzb3J0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgc29ydC5hY3RpdmUgPT09IGNvbHVtbi5pZCAmJlxuICAgICAgICAgICAgICAgICAgICAgIHNvcnQuZGlyZWN0aW9uID09ICdhc2MnXG4gICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICYjODU5MztcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiZHluYW1pY3RhYmxlU29ydERlc2NcIlxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICAgICAgICAgIHNvcnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICBzb3J0LmFjdGl2ZSA9PT0gY29sdW1uLmlkICYmXG4gICAgICAgICAgICAgICAgICAgICAgc29ydC5kaXJlY3Rpb24gPT0gJ2Rlc2MnXG4gICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICYjODU5NTtcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwic29ydCAmJiBzb3J0LmFjdGl2ZSAhPT0gY29sdW1uLmlkXCI+JiM4NjQ1Ozwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyQ2VsbEFjdGlvbnNcIiAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVNb3JlT3B0aW9uXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICAgICAgICAgICAgICBbbWF0TWVudVRyaWdnZXJGb3JdPVwibWVudVwiXG4gICAgICAgICAgICAgICAgICAqbmdJZj1cImNvbHVtbi5zaG93TWVudU9wdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cImljb24tYnV0dG9uIHdpdGggYSBtZW51XCJcbiAgICAgICAgICAgICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIk1vcmUgT3B0aW9uc1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG1hdC1pY29uPm1vcmVfaG9yaXo8L21hdC1pY29uPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxtYXQtbWVudSAjbWVudT1cIm1hdE1lbnVcIiB4UG9zaXRpb249XCJiZWZvcmVcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVIaWRlQ29sXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG1hdC1tZW51LWl0ZW1cbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImhpZGVDb2x1bW4oY29sdW1uLmlkKVwiXG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiY29sdW1uLmhpZGVhYmxlXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgSGlkZSBDb2x1bW5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBpZD1cImR5bmFtaWN0YWJsZU1vdmVMZWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG1hdC1tZW51LWl0ZW1cbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJjb2x1bW4ubW92YWJsZVwiXG4gICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJtb3ZlTGVmdChjb2x1bW4uaWQpXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgTW92ZSBMZWZ0XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVNb3ZlUmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgbWF0LW1lbnUtaXRlbVxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImNvbHVtbi5tb3ZhYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm1vdmVSaWdodChjb2x1bW4uaWQpXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgTW92ZSBSaWdodFxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiZHluYW1pY3RhYmxlU3RpY2tcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgbWF0LW1lbnUtaXRlbVxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwic3RpY2soY29sdW1uLmlkKVwiXG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICAgICAgICAgICAgIWlzU3RpY2t5KHN0aWNreUNvbHVtbnMsIGNvbHVtbi5pZCkgJiYgY29sdW1uLnN0aWNrYWJsZVxuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBTdGlja1xuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8IS0tIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgbWF0LW1lbnUtaXRlbVxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwic3RpY2tUb0VuZChjb2x1bW4uaWQpXCJcbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCIhaXNTdGlja3lFbmQoc3RpY2t5Q29sdW1ucywgY29sdW1uLmlkKVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFN0aWNrIHRvIEVuZFxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+IC0tPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBpZD1cImR5bmFtaWN0YWJsZUNvbFN0aWNrYWJsZVwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBtYXQtbWVudS1pdGVtXG4gICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJ1bnN0aWNrKGNvbHVtbi5pZClcIlxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICAgICAgICAgIChpc1N0aWNreShzdGlja3lDb2x1bW5zLCBjb2x1bW4uaWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N0aWNreUVuZChzdGlja3lFbmRDb2x1bW5zLCBjb2x1bW4uaWQpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5zdGlja2FibGVcbiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgVW4tc3RpY2tcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBpZD1cImR5bmFtaWN0YWJsZUFkZEdyb3VwXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG1hdC1tZW51LWl0ZW1cbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJcbiAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4udmlzaWJsZSAmJlxuICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5ncm91cGFibGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAhaXNHcm91cGVkKGNvbHVtbi5pZClcbiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cInRoaXMuY29uZmlnT3B0aW9ucy5ncm91cEJ5Q29sdW1ucy5sZW5ndGggPj0gM1wiXG4gICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJhZGRHcm91cChjb2x1bW4sICRldmVudClcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBHcm91cCBSb3dzIGJ5IHRoaXMgQ29sdW1uXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVSZW1vdmVHcm91cFwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBtYXQtbWVudS1pdGVtXG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICAgICAgICAgICAgY29sdW1uLnZpc2libGUgJiYgY29sdW1uLmdyb3VwYWJsZSAmJiBpc0dyb3VwZWQoY29sdW1uLmlkKVxuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwicmVtb3ZlR3JvdXAoY29sdW1uLCAkZXZlbnQpXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgVW4tZ3JvdXAgdGhpcyBDb2x1bW5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvbWF0LW1lbnU+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90aD5cbiAgICAgICAgICA8IS0tIDx0ZCBfbmdjb250ZW50LXBxZC1jMjk2PVwiXCIgcm9sZT1cImNlbGxcIiBtYXQtY2VsbD1cIlwiIGNsYXNzPVwibWF0LWNlbGwgY2RrLWNlbGwgY2RrLWNvbHVtbi1uYW1lIG1hdC1jb2x1bW4tbmFtZSBuZy10bnMtYzI5Ni0wIG5nLXN0YXItaW5zZXJ0ZWRcIj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAtLT5cbiAgICAgICAgICA8dGRcbiAgICAgICAgICAgIG1hdC1jZWxsXG4gICAgICAgICAgICAqbWF0Q2VsbERlZj1cImxldCBlbGVtZW50OyBsZXQgaSA9IGRhdGFJbmRleFwiXG4gICAgICAgICAgICBbbmdTdHlsZV09XCJldmFsdWF0ZUV4cHJlc3Npb24oZWxlbWVudCwgY29sdW1uKVwiXG4gICAgICAgICAgICBbYXR0ci5yb3dzcGFuXT1cImdldFJvd1NwYW4oY29sdW1uLmlkLCBpKVwiXG4gICAgICAgICAgICBbc3R5bGUuZGlzcGxheV09XCJnZXRSb3dTcGFuKGNvbHVtbi5pZCwgaSkgPyAnJyA6ICdub25lJ1wiXG4gICAgICAgICAgICBjbGFzcz1cInRhYmxlLWNvbHVtblwiXG4gICAgICAgICAgICAoY2xpY2spPVwib25DZWxsQ2xpY2soZWxlbWVudCwgY29sdW1uLmlkLCBjb2x1bW4uY29udHJvbFR5cGUpXCJcbiAgICAgICAgICAgIGlkPVwie3sgY29sdW1uLmlkIH19XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzPVwiZGlzcGxheUZsZXhcIlxuICAgICAgICAgICAgICAqbmdJZj1cImNvbHVtbiAmJiBlbGVtZW50XCJcbiAgICAgICAgICAgICAgW25nQ2xhc3NdPVwie1xuICAgICAgICAgICAgICAgIGRpc2FibGVkOlxuICAgICAgICAgICAgICAgICAgZWxlbWVudFtjb2x1bW4uY29udHJvbFZhbHVlPy5kZXBlbmRlbnRGaWVsZElkXSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgY29sdW1uLmNvbnRyb2xWYWx1ZS5kaXNhYmxlQmFja2dyb3VuZCA9PT0gdHJ1ZSxcbiAgICAgICAgICAgICAgICAnbm90LWRpc2FibGVkJzpcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRbY29sdW1uLmNvbnRyb2xWYWx1ZT8uZGVwZW5kZW50RmllbGRJZF0gPT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICBjb2x1bW4uY29udHJvbFZhbHVlLmRpc2FibGVCYWNrZ3JvdW5kID09PSB0cnVlXG4gICAgICAgICAgICAgIH1cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8IS0tIDxzcGFuXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJcbiAgICAgICAgICAgICAgICAgIGNvbHVtbi5oYXNQcmVUZXh0SW1hZ2UgJiZcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQucHJlVGV4dEltYWdlQ29uZmlnICYmXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnByZVRleHRJbWFnZUNvbmZpZy5sb2dvQXZpYWxhYmxlID09PSBmYWxzZVxuICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgW25nU3R5bGVdPVwiZWxlbWVudC5wcmVUZXh0SW1hZ2VDb25maWcuc3R5bGVcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGF2YXRhciBbdGV4dF09XCJlbGVtZW50Lm5hbWVcIj48L2F2YXRhcj5cbiAgICAgICAgICAgICAgPC9zcGFuPiAtLT5cblxuICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVJbWdcIlxuICAgICAgICAgICAgICAgIFtzcmNdPVwiZWxlbWVudC5wcmVUZXh0SW1hZ2UuaW1hZ2VcIlxuICAgICAgICAgICAgICAgIFtuZ1N0eWxlXT1cImVsZW1lbnQucHJlVGV4dEltYWdlLnN0eWxlXCJcbiAgICAgICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICAgICAgY29sdW1uLmhhc1ByZVRleHRJbWFnZSAmJlxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5wcmVUZXh0SW1hZ2UgJiZcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQucHJlVGV4dEltYWdlLmltYWdlICYmXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnByZVRleHRJbWFnZS5jb25kaXRpb24gJiZcbiAgICAgICAgICAgICAgICAgIGV2YWx1YXRlQ29uZGl0aW9uKGVsZW1lbnQsIGVsZW1lbnQucHJlVGV4dEltYWdlKVxuICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgYWx0PVwiUHJlIEltYWdlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAqbmdJZj1cImNvbHVtbi5jb250cm9sVHlwZSA9PT0gJ3N0cmluZydcIlxuICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cImNvbHVtbj8uaGFzTWF0VG9vbFRpcCA/ICdtYXQtdG9vbHRpcC1wYXJlbnQnIDogJydcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGlkPVwiZHluYW1pY3RhYmxlQ29sVHlwZVwiXG4gICAgICAgICAgICAgICAgICAqbmdJZj1cIiFpc0FycmF5KGVsZW1lbnRbY29sdW1uLmlkXSlcIlxuICAgICAgICAgICAgICAgICAgW25nU3R5bGVdPVwiXG4gICAgICAgICAgICAgICAgICAgIGdldENvbmRpdGlvbmFsU3R5bGVzKGNvbHVtbi50aXRsZVN0eWxlLCBlbGVtZW50LCBjb2x1bW4pXG4gICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uQ2VsbENsaWNrKGVsZW1lbnQsIGNvbHVtbi5pZCwgY29sdW1uLmNvbnRyb2xUeXBlKVwiXG4gICAgICAgICAgICAgICAgICAjdG9vbHRpcD1cIm1hdFRvb2x0aXBcIlxuICAgICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cInt7IGVsZW1lbnRbY29sdW1uLmlkXSB9fVwiXG4gICAgICAgICAgICAgICAgICBtYXRUb29sdGlwUG9zaXRpb249XCJhYm92ZVwiXG4gICAgICAgICAgICAgICAgICBbbWF0VG9vbHRpcERpc2FibGVkXT1cIiFjb2x1bW4uaGFzTWF0VG9vbFRpcFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3sgZWxlbWVudFtjb2x1bW4uaWRdIHwgZHluYW1pY1R5cGVQaXBlIDogY29sdW1uLnR5cGUgfX1cbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiY29sdW1uLmhhc1JpZ2h0RWxlbWVudFwiXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiZHluYW1pY3RhYmxlUmlnaHRFbGVtZW50XCJcbiAgICAgICAgICAgICAgICAgICAgW2lubmVySFRNTF09XCJlbGVtZW50LnJpZ2h0RWxlbWVudFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAqbmdJZj1cImlzQXJyYXkoZWxlbWVudFtjb2x1bW4uaWRdKVwiXG4gICAgICAgICAgICAgICAgICBbbmdTdHlsZV09XCJjb2x1bW4udGl0bGVTdHlsZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVJdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGl0ZW0gb2YgZWxlbWVudFtjb2x1bW4uaWRdOyBsYXN0IGFzIGlzTGFzdFwiXG4gICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvbkNlbGxDbGljayhlbGVtZW50LCBjb2x1bW4uaWQsIGl0ZW0pXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3sgaXRlbSB9fTxzcGFuICpuZ0lmPVwiIWlzTGFzdFwiPiwgPC9zcGFuPjwvc3BhblxuICAgICAgICAgICAgICAgICAgPiA8L3NwYW5cbiAgICAgICAgICAgICAgICA+PGJyIC8+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGlkPVwiZHluYW1pY3RhYmxlU3VidGl0bGVcIlxuICAgICAgICAgICAgICAgICAgKm5nSWY9XCJjb2x1bW4uaGFzU3VidGl0bGVcIlxuICAgICAgICAgICAgICAgICAgW25nU3R5bGVdPVwiXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbY29sdW1uLnN1YnRpdGxlQ29sdW1uXSAhPT0gJydcbiAgICAgICAgICAgICAgICAgICAgICA/IGNvbHVtbi5zdWJ0aXRsZVN0eWxlXG4gICAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7e1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50W2NvbHVtbi5zdWJ0aXRsZUNvbHVtbl1cbiAgICAgICAgICAgICAgICAgICAgICB8IGR5bmFtaWNUeXBlUGlwZSA6IGNvbHVtbi50eXBlXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgKm5nSWY9XCJjb2x1bW4uaGFzQmVsb3dFbGVtZW50XCJcbiAgICAgICAgICAgICAgICAgIGlkPVwiZHluYW1pY3RhYmxlU3VidGl0bGVFbGVtZW50XCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIFtpbm5lckhUTUxdPVwiZWxlbWVudC5iZWxvd0VsZW1lbnRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJjb2x1bW4uY29udHJvbFR5cGUgPT09ICdzbGlkZS10b2dnbGUnXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzbGlkZS10b2dnbGVcIj5cbiAgICAgICAgICAgICAgICAgIDxtYXQtc2xpZGUtdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgIFtjaGVja2VkXT1cImVsZW1lbnRbY29sdW1uLmlkXVwiXG4gICAgICAgICAgICAgICAgICAgIChjaGFuZ2UpPVwib25Ub2dnbGVDaGFuZ2UoJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICA+PC9tYXQtc2xpZGUtdG9nZ2xlPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiY29sdW1uLmNvbnRyb2xUeXBlID09PSAnaHRtbCdcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBbaW5uZXJIVE1MXT1cImVsZW1lbnRbY29sdW1uLmlkXVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiY29sdW1uLmNvbnRyb2xUeXBlID09PSAnYnV0dG9uJ1wiIGNsYXNzPVwiYnV0dG9uLXNwYW5cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBpZD1cImR5bmFtaWN0YWJsZUNvbFZhbHVlXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgbWF0LXN0cm9rZWQtYnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInRhYmxlLWJ1dHRvbnNcIlxuICAgICAgICAgICAgICAgICAgKm5nSWY9XCIhZWxlbWVudFtjb2x1bW4uaWRdOyBlbHNlIGZyZWVUZXh0XCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7eyBjb2x1bW4uY29udHJvbFZhbHVlIH19XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNmcmVlVGV4dD5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwiZHluYW1pY3RhYmxlQ29sSWRcIj5cbiAgICAgICAgICAgICAgICAgICAge3sgZWxlbWVudFtjb2x1bW4uaWRdIH19XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJjb2x1bW4uY29udHJvbFR5cGUgPT09ICdidXR0b24tdG9nZ2xlJ1wiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJtYXQtYnV0dG9uLXNwYW5cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICpuZ0lmPVwiY29sdW1uPy5jb250cm9sVmFsdWUubGVuZ3RoICYmICFlbGVtZW50W2NvbHVtbi5pZF1cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGJ1dHRvbiBvZiBjb2x1bW4/LmNvbnRyb2xWYWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8bWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAjZ3JvdXA9XCJtYXRCdXR0b25Ub2dnbGVHcm91cFwiXG4gICAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJvblZhbENoYW5nZShlbGVtZW50LCBncm91cC52YWx1ZSlcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPG1hdC1idXR0b24tdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWVdPVwiYnV0dG9uLnZhbHVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwie3sgYnV0dG9uLmNsYXNzIH19XCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bWF0LWljb24gKm5nSWY9XCJidXR0b24uaXNJY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt7IGJ1dHRvbi5pY29uTmFtZSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9tYXQtaWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L21hdC1idXR0b24tdG9nZ2xlPlxuICAgICAgICAgICAgICAgICAgICA8L21hdC1idXR0b24tdG9nZ2xlLWdyb3VwPlxuICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwiZHluYW1pY3RhYmxlQ29sSWRcIiAqbmdJZj1cImVsZW1lbnRbY29sdW1uLmlkXVwiPlxuICAgICAgICAgICAgICAgICAge3sgZWxlbWVudFtjb2x1bW4uaWRdIH19XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJjb2x1bW4uY29udHJvbFR5cGUgPT09ICdtZW51J1wiIGNsYXNzPVwiYnV0dG9uLXNwYW5cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBtYXQtc3Ryb2tlZC1idXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGFibGUtYnV0dG9uc1wiXG4gICAgICAgICAgICAgICAgICBbbWF0TWVudVRyaWdnZXJGb3JdPVwibWVudVwiXG4gICAgICAgICAgICAgICAgICAqbmdJZj1cIiFlbGVtZW50W2NvbHVtbi5pZF07IGVsc2UgZnJlZVRleHRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHt7IGNvbHVtbi5jb250cm9sVmFsdWVbJ2J1dHRvbk5hbWUnXSB9fVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxtYXQtbWVudSAjbWVudT1cIm1hdE1lbnVcIj5cbiAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBtYXRNZW51Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG1hdC1tZW51LWl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25NZW51QnV0dG9uQ2xpY2soZWxlbWVudCwgY29sdW1uLmlkLCBidG4pXCJcbiAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgYnRuIG9mIGNvbHVtbi5jb250cm9sVmFsdWVbJ21lbnVCdXR0b25OYW1lcyddXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1hdC1tZW51LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7eyBidG4gfX1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICAgIDwvbWF0LW1lbnU+XG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNmcmVlVGV4dD5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICB7eyBlbGVtZW50W2NvbHVtbi5pZF0gfX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJjb2x1bW4uY29udHJvbFR5cGUgPT09ICdzcGFjZS1iZXR3ZWVuJ1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3BhY2UtYmV0d2VlblwiIFtuZ1N0eWxlXT1cImNvbHVtbi50aXRsZVN0eWxlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cIlxuICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSBvZiBnZXREaXNwbGF5VmFsdWVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFtjb2x1bW4uaWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNvbnRyb2xWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3sgdmFsdWUgfX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJjb2x1bW4uY29udHJvbFR5cGUgPT09ICdkcm9wZG93bidcIlxuICAgICAgICAgICAgICAgIFtpZF09XCJlbGVtZW50LmlkXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cIndpZHRoLTEwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICAgICAgICBnZXREaXNwbGF5VHlwZShlbGVtZW50LCBjb2x1bW4sIGNvbHVtbi5jb250cm9sVmFsdWUpID09PVxuICAgICAgICAgICAgICAgICAgICAnZHJvcGRvd24nXG4gICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiZHluYW1pY3RhYmxlRHJvcERvd25cIlxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImVsZW1lbnRbY29sdW1uLmlkXSAhPT0gdW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkcm9wZG93bi12YWx1ZVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHt7IGVsZW1lbnRbY29sdW1uLmlkXSB9fVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVTZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImVsZW1lbnRbY29sdW1uLmlkXSA9PT0gdW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzZWxlY3QtdGV4dFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFNlbGVjdFxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhcnJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8bWF0LWljb24+YXJyb3dfZHJvcF9kb3duPC9tYXQtaWNvbj5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGlkPVwiZHluYW1pY3RhYmxlVGV4dFwiXG4gICAgICAgICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICAgICAgICBnZXREaXNwbGF5VHlwZShlbGVtZW50LCBjb2x1bW4sIGNvbHVtbi5jb250cm9sVmFsdWUpID09PVxuICAgICAgICAgICAgICAgICAgICAndGV4dCdcbiAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3sgZWxlbWVudFtjb2x1bW4uaWRdIH19XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgICAgPCEtLSA8c3BhblxuICAgICAgICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICAgICAgICBjb2x1bW4uaGFzUG9zdFRleHRJbWFnZSAmJlxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5wb3N0VGV4dEltYWdlQ29uZmlnICYmXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnBvc3RUZXh0SW1hZ2VDb25maWcubG9nb0F2aWFsYWJsZSA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgIFtuZ1N0eWxlXT1cImVsZW1lbnQucG9zdFRleHRJbWFnZUNvbmZpZy5zdHlsZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8YXZhdGFyIFt0ZXh0XT1cImVsZW1lbnQubmFtZVwiPjwvYXZhdGFyPlxuICAgICAgICAgICAgICA8L3NwYW4+IC0tPlxuXG4gICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICBbc3JjXT1cImVsZW1lbnQucG9zdFRleHRJbWFnZS5pbWFnZVwiXG4gICAgICAgICAgICAgICAgW25nU3R5bGVdPVwiZWxlbWVudC5wb3N0VGV4dEltYWdlLnN0eWxlXCJcbiAgICAgICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICAgICAgY29sdW1uLmhhc1Bvc3RUZXh0SW1hZ2UgJiZcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQucG9zdFRleHRJbWFnZSAmJlxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5wb3N0VGV4dEltYWdlLmltYWdlICYmXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnBvc3RUZXh0SW1hZ2UuY29uZGl0aW9uICYmXG4gICAgICAgICAgICAgICAgICBldmFsdWF0ZUNvbmRpdGlvbihlbGVtZW50LCBlbGVtZW50LnBvc3RUZXh0SW1hZ2UpXG4gICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICBhbHQ9XCJQb3N0IEltYWdlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgbWF0Q29sdW1uRGVmPVwiYWN0aW9uc1wiXG4gICAgICAgICAgW3N0aWNreUVuZF09XCJ0cnVlXCJcbiAgICAgICAgICAqbmdJZj1cImNvbmZpZ09wdGlvbnMuZGlzcGxheUFjdGlvbnNDb2x1bW5cIlxuICAgICAgICA+XG4gICAgICAgICAgPHRoXG4gICAgICAgICAgICBpZD1cImR5bmFtaWN0YWJsZUFjdGlvblwiXG4gICAgICAgICAgICBtYXQtaGVhZGVyLWNlbGxcbiAgICAgICAgICAgICptYXRIZWFkZXJDZWxsRGVmXG4gICAgICAgICAgICBjbGFzcz1cInctNTAgYWN0aW9ucy1jb2x1bW4gdGFibGVIZWFkZXJDZWxsIHRhYmxlLWNvbHVtblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgQWN0aW9uc1xuICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IHJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1pY29ucy1kaXNwbGF5LWZsZXhcIj5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgICpuZ0lmPVwiY29uZmlnT3B0aW9ucy5yb3dMZXZlbEFjdGlvbnMuaWNvbkFjdGlvbjsgbGV0IGljb25BY3Rpb25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVSb3dMZXZlbEFjdGlvblwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtb3JlLWFjdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uUm93TGV2ZWxBY3Rpb25JY29uQ2xpY2soaWNvbkFjdGlvbiwgcm93KVwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUm93IExldmVsIEFjdGlvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG1hdC1pY29uXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiZHluYW1pY3RhYmxlSWNvblRvZ2dsZU9uXCJcbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJyb3dbaWNvbkFjdGlvbi5wcm9wZXJ0eV1cIlxuICAgICAgICAgICAgICAgICAgICBbbmdTdHlsZV09XCJpY29uQWN0aW9uLnN0eWxlVG9nZ2xlT25cIlxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25Sb3dMZXZlbEFjdGlvbkljb25DbGljayhpY29uQWN0aW9uLCByb3cpXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJhY3Rpb24taWNvbnNcIlxuICAgICAgICAgICAgICAgICAgICA+e3sgaWNvbkFjdGlvbi5pY29uVG9nZ2xlT24gfX1cbiAgICAgICAgICAgICAgICAgIDwvbWF0LWljb24+XG4gICAgICAgICAgICAgICAgICA8bWF0LWljb25cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVUb2dnbGVPZmZcIlxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIiFyb3dbaWNvbkFjdGlvbi5wcm9wZXJ0eV1cIlxuICAgICAgICAgICAgICAgICAgICBbbmdTdHlsZV09XCJpY29uQWN0aW9uLnN0eWxlVG9nZ2xlT2ZmXCJcbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uUm93TGV2ZWxBY3Rpb25JY29uQ2xpY2soaWNvbkFjdGlvbiwgcm93KVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYWN0aW9uLWljb25zXCJcbiAgICAgICAgICAgICAgICAgICAgPnt7IGljb25BY3Rpb24uaWNvblRvZ2dsZU9mZiB9fTwvbWF0LWljb25cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBpZD1cImR5bmFtaWN0YWJsZUFjdGlvbk1lbnVcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICAgICAgICAgIFttYXRNZW51VHJpZ2dlckZvcl09XCJhY3Rpb25zTWVudVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJtb3JlLWFjdGlvbnNcIlxuICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJcbiAgICAgICAgICAgICAgICAgICFldmFsdWF0ZUNvbmRpdGlvbihyb3csIGNvbmZpZ09wdGlvbnMuZW5hYmxlUm93TGV2ZWxBY3Rpb25zKVxuICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIk1vcmUgT3B0aW9uc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bWF0LWljb24gaWQ9XCJkeW5hbWljdGFibGVNb3JlSWNvblwiPm1vcmVfaG9yaXo8L21hdC1pY29uPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPG1hdC1tZW51ICNhY3Rpb25zTWVudT1cIm1hdE1lbnVcIj5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAqbmdGb3I9XCJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFjdGlvbiBvZiBjb25maWdPcHRpb25zLnJvd0xldmVsQWN0aW9ucy5tZW51QWN0aW9uc1xuICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiYWN0aW9uLnR5cGUgIT09ICdtZW51J1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVBY3Rpb25DbGlja1wiXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgbWF0LW1lbnUtaXRlbVxuICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAhYWN0aW9uLmNvbmRpdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGFjdGlvbi5jb25kaXRpb24gJiYgZXZhbHVhdGVDb25kaXRpb24ocm93LCBhY3Rpb24pKVxuICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uUm93TGV2ZWxBY3Rpb25DbGljayhhY3Rpb24sIHJvdylcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPG1hdC1pY29uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cImR5bmFtaWN0YWJsZUFjdGlvbkljb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJhY3Rpb24taWNvbnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwie1xuICAgICAgICAgICAgICAgICAgICAgICAgICAncmVkLXRleHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi50aXRsZSA9PT0gJ0RlbGV0ZScgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24udGl0bGUgPT09ICdEZWFjdGl2YXRlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi50aXRsZSA9PT0gJ0FyY2hpdmUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiYWN0aW9uLmljb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPnt7IGFjdGlvbi5pY29uIH19PC9tYXQtaWNvblxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVBY3Rpb25UaXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdyZWQtdGV4dCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLnRpdGxlID09PSAnRGVsZXRlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi50aXRsZSA9PT0gJ0RlYWN0aXZhdGUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLnRpdGxlID09PSAnQXJjaGl2ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPnt7IGFjdGlvbi50aXRsZSB9fTwvc3BhblxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJhY3Rpb24udHlwZSA9PT0gJ21lbnUnXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImR5bmFtaWN0YWJsZUFjdGlvbkNsaWNrXCJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBtYXQtbWVudS1pdGVtXG4gICAgICAgICAgICAgICAgICAgICAgW21hdE1lbnVUcmlnZ2VyRm9yXT1cIm5lc3RlZE1lbnVcIlxuICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAhYWN0aW9uLmNvbmRpdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGFjdGlvbi5jb25kaXRpb24gJiYgZXZhbHVhdGVDb25kaXRpb24ocm93LCBhY3Rpb24pKVxuICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cImR5bmFtaWN0YWJsZUFjdGlvblRpdGxlXCI+e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi50aXRsZVxuICAgICAgICAgICAgICAgICAgICAgIH19PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPG1hdC1tZW51ICNuZXN0ZWRNZW51PVwibWF0TWVudVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdC1tZW51LWl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBzdWJNZW51IG9mIGFjdGlvbi5tZW51VmFsdWVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvblJvd0xldmVsQWN0aW9uQ2xpY2soYWN0aW9uLCByb3csIHN1Yk1lbnUpXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7eyBzdWJNZW51IH19XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvbWF0LW1lbnU+XG4gICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgPC9tYXQtbWVudT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8IS0tIEV4cGFuZGVkIENvbnRlbnQgQ29sdW1uIC0gVGhlIGRldGFpbCByb3cgaXMgbWFkZSB1cCBvZiB0aGlzIG9uZSBjb2x1bW4gdGhhdCBzcGFucyBhY3Jvc3MgYWxsIGNvbHVtbnMgLS0+XG4gICAgICAgIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwiZXhwYW5kZWREZXRhaWxcIj5cbiAgICAgICAgICA8dGRcbiAgICAgICAgICAgIG1hdC1jZWxsXG4gICAgICAgICAgICAqbWF0Q2VsbERlZj1cImxldCBlbGVtZW50XCJcbiAgICAgICAgICAgIFthdHRyLmNvbHNwYW5dPVwiY29sdW1uc1RvRGlzcGxheS5sZW5ndGhcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3M9XCJleGFtcGxlLWVsZW1lbnQtZGV0YWlsXCJcbiAgICAgICAgICAgICAgW0BkZXRhaWxFeHBhbmRdPVwiXG4gICAgICAgICAgICAgICAgZWxlbWVudCA9PSBleHBhbmRlZEVsZW1lbnQgPyAnZXhwYW5kZWQnIDogJ2NvbGxhcHNlZCdcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV4YW1wbGUtZWxlbWVudC1kaWFncmFtXCI+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVFbGVtZW50TmFtZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImV4YW1wbGUtZWxlbWVudC1wb3NpdGlvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3sgZWxlbWVudC5uYW1lIH19XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVFbGVtZW50UHJvZ3Jlc3NcIlxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJleGFtcGxlLWVsZW1lbnQtc3ltYm9sXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7eyBlbGVtZW50LnByb2dyZXNzIH19XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgaWQ9XCJkeW5hbWljdGFibGVFbGVtZW50RXhhbXBsZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImV4YW1wbGUtZWxlbWVudC1uYW1lXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7eyBlbGVtZW50LmZydWl0IH19XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cImR5bmFtaWN0YWJsZUVsZW1lbnRJZFwiIGNsYXNzPVwiZXhhbXBsZS1lbGVtZW50LXdlaWdodFwiPlxuICAgICAgICAgICAgICAgICAge3sgZWxlbWVudC5pZCB9fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGlkPVwiZHluYW1pY3RhYmxlRWxlbWVudERlc2NcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiZXhhbXBsZS1lbGVtZW50LWRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt7IGVsZW1lbnQubmFtZSB9fVxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXhhbXBsZS1lbGVtZW50LWRlc2NyaXB0aW9uLWF0dHJpYnV0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAtLSBXaWtpcGVkaWFcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDx0clxuICAgICAgICAgIG1hdC1oZWFkZXItcm93XG4gICAgICAgICAgKm1hdEhlYWRlclJvd0RlZj1cImNvbHVtbnNUb0Rpc3BsYXk7IHN0aWNreTogdHJ1ZVwiXG4gICAgICAgICAgY2xhc3M9XCJoZWFkZXJSb3dcIlxuICAgICAgICA+PC90cj5cbiAgICAgICAgPHRyXG4gICAgICAgICAgbWF0LXJvd1xuICAgICAgICAgICptYXRSb3dEZWY9XCJsZXQgcm93OyBjb2x1bW5zOiBjb2x1bW5zVG9EaXNwbGF5XCJcbiAgICAgICAgICBbY2xhc3MuZXhhbXBsZS1leHBhbmRlZC1yb3ddPVwiZXhwYW5kZWRFbGVtZW50ID09PSByb3dcIlxuICAgICAgICAgIChjbGljayk9XCJcbiAgICAgICAgICAgIGV4cGFuZGVkRWxlbWVudCA9IGV4cGFuZGVkRWxlbWVudCA9PT0gcm93ID8gbnVsbCA6IHJvdztcbiAgICAgICAgICAgIGhpZ2hsaWdodChyb3cpXG4gICAgICAgICAgXCJcbiAgICAgICAgICBbbmdDbGFzc109XCJ7IGhpZ2hsaWdodDogc2VsZWN0ZWRSb3dJbmRleCA9PSByb3c/LmlkIH1cIlxuICAgICAgICA+PC90cj5cbiAgICAgICAgPHRyXG4gICAgICAgICAgbWF0LXJvd1xuICAgICAgICAgICptYXRSb3dEZWY9XCJsZXQgcm93OyBjb2x1bW5zOiBbJ2V4cGFuZGVkRGV0YWlsJ107IHdoZW46IGN1c3RvbVdoZW5cIlxuICAgICAgICAgIGNsYXNzPVwiZXhhbXBsZS1kZXRhaWwtcm93XCJcbiAgICAgICAgPjwvdHI+XG4gICAgICA8L3RhYmxlPlxuICAgICAgPGRpdiAqbmdJZj1cIiFkYXRhU291cmNlLmRhdGEubGVuZ3RoXCIgY2xhc3M9XCJub1Jlc3VsdHNDb250YWluZXJcIj5cbiAgICAgICAgPHNwYW4gaWQ9XCJkeW5hbWljdGFibGVOb0RhdGFGb3VuZFwiIGNsYXNzPVwibm9TZWFyY2hSZXN1bHRzVGV4dFwiPlxuICAgICAgICAgIHt7XG4gICAgICAgICAgICBjb25maWdPcHRpb25zPy5ub0RhdGFUZXh0XG4gICAgICAgICAgICAgID8gY29uZmlnT3B0aW9ucz8ubm9EYXRhVGV4dFxuICAgICAgICAgICAgICA6ICdObyBEYXRhIEZvdW5kJ1xuICAgICAgICAgIH19XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxtYXQtcGFnaW5hdG9yXG4gICAgICAqbmdJZj1cImNvbmZpZ09wdGlvbnMuZW5hYmxlUGFnaW5hdGlvblwiXG4gICAgICBbcGFnZVNpemVPcHRpb25zXT1cIlsxMCwgMjUsIDUwLCA3NSwgMTAwXVwiXG4gICAgICBhcmlhLWxhYmVsPVwiU2VsZWN0IFBhZ2VcIlxuICAgID48L21hdC1wYWdpbmF0b3I+XG4gIDwvZGl2PlxuPC9kaXY+XG4iXX0=